1650379567 11608996 9ad104a00dd7e23a6e4b7c25dbe0177b  /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/etc/spack/sdsc/expanse/0.17.1/cpu/specs/intel@19.1.3.304/perl@5.34.0.sh afterok:11608494

#!/usr/bin/env bash

#SBATCH --job-name=perl@5.34.0
#SBATCH --account=use300
#SBATCH --partition=shared
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=1
#SBATCH --cpus-per-task=16
#SBATCH --mem=32G
#SBATCH --time=00:30:00
#SBATCH --output=%x.o%j.%N

declare -xr LOCAL_TIME="$(date +'%Y%m%dT%H%M%S%z')"
declare -xir UNIX_TIME="$(date +'%s')"

declare -xr SYSTEM_NAME='expanse'

declare -xr SPACK_VERSION='0.17.1'
declare -xr SPACK_INSTANCE_NAME='cpu'
declare -xr SPACK_INSTANCE_DIR="${HOME}/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}"

declare -xr SLURM_JOB_SCRIPT="$(scontrol show job ${SLURM_JOB_ID} | awk -F= '/Command=/{print $2}')"
declare -xr SLURM_JOB_MD5SUM="$(md5sum ${SLURM_JOB_SCRIPT})"

declare -xr SCHEDULER_MODULE='slurm/expanse/current'

echo "${UNIX_TIME} ${SLURM_JOB_ID} ${SLURM_JOB_MD5SUM} ${SLURM_JOB_DEPENDENCY}" 
echo ""

cat "${SLURM_JOB_SCRIPT}"

module purge
module load "${SCHEDULER_MODULE}"
module list
. "${SPACK_INSTANCE_DIR}/share/spack/setup-env.sh"

declare -xr INTEL_LICENSE_FILE='40000@elprado.sdsc.edu:40200@elprado.sdsc.edu'
declare -xr SPACK_PACKAGE='perl@5.34.0'
declare -xr SPACK_COMPILER='intel@19.1.3.304'
declare -xr SPACK_VARIANTS='+cpanm +shared +threads'
declare -xr SPACK_DEPENDENCIES=''
declare -xr SPACK_SPEC="${SPACK_PACKAGE} % ${SPACK_COMPILER} ${SPACK_VARIANTS} ${SPACK_DEPENDENCIES}"

printenv

spack config get compilers  
spack config get config  
spack config get mirrors
spack config get modules
spack config get packages
spack config get repos
spack config get upstreams

spack spec --long --namespaces --types "${SPACK_SPEC}"
if [[ "${?}" -ne 0 ]]; then
  echo 'ERROR: spack concretization failed.'
  exit 1
fi

time -p spack install --jobs "${SLURM_CPUS_PER_TASK}" --fail-fast --yes-to-all "${SPACK_SPEC}"
if [[ "${?}" -ne 0 ]]; then
  echo 'ERROR: spack install failed.'
  exit 1
fi

spack module lmod refresh --delete-tree -y

sbatch --dependency="afterok:${SLURM_JOB_ID}" 'tcl@8.6.11.sh'

sleep 60

Currently Loaded Modules:
  1) slurm/expanse/current

 

LD_LIBRARY_PATH=/cm/shared/apps/slurm/current/lib64/slurm:/cm/shared/apps/slurm/current/lib64
LS_COLORS=rs=0:di=38;5;33:ln=38;5;51:mh=00:pi=40;38;5;11:so=38;5;13:do=38;5;5:bd=48;5;232;38;5;11:cd=48;5;232;38;5;3:or=48;5;232;38;5;9:mi=01;05;37;41:su=48;5;196;38;5;15:sg=48;5;11;38;5;16:ca=48;5;196;38;5;226:tw=48;5;10;38;5;16:ow=48;5;10;38;5;21:st=48;5;21;38;5;15:ex=38;5;40:*.tar=38;5;9:*.tgz=38;5;9:*.arc=38;5;9:*.arj=38;5;9:*.taz=38;5;9:*.lha=38;5;9:*.lz4=38;5;9:*.lzh=38;5;9:*.lzma=38;5;9:*.tlz=38;5;9:*.txz=38;5;9:*.tzo=38;5;9:*.t7z=38;5;9:*.zip=38;5;9:*.z=38;5;9:*.dz=38;5;9:*.gz=38;5;9:*.lrz=38;5;9:*.lz=38;5;9:*.lzo=38;5;9:*.xz=38;5;9:*.zst=38;5;9:*.tzst=38;5;9:*.bz2=38;5;9:*.bz=38;5;9:*.tbz=38;5;9:*.tbz2=38;5;9:*.tz=38;5;9:*.deb=38;5;9:*.rpm=38;5;9:*.jar=38;5;9:*.war=38;5;9:*.ear=38;5;9:*.sar=38;5;9:*.rar=38;5;9:*.alz=38;5;9:*.ace=38;5;9:*.zoo=38;5;9:*.cpio=38;5;9:*.7z=38;5;9:*.rz=38;5;9:*.cab=38;5;9:*.wim=38;5;9:*.swm=38;5;9:*.dwm=38;5;9:*.esd=38;5;9:*.jpg=38;5;13:*.jpeg=38;5;13:*.mjpg=38;5;13:*.mjpeg=38;5;13:*.gif=38;5;13:*.bmp=38;5;13:*.pbm=38;5;13:*.pgm=38;5;13:*.ppm=38;5;13:*.tga=38;5;13:*.xbm=38;5;13:*.xpm=38;5;13:*.tif=38;5;13:*.tiff=38;5;13:*.png=38;5;13:*.svg=38;5;13:*.svgz=38;5;13:*.mng=38;5;13:*.pcx=38;5;13:*.mov=38;5;13:*.mpg=38;5;13:*.mpeg=38;5;13:*.m2v=38;5;13:*.mkv=38;5;13:*.webm=38;5;13:*.ogm=38;5;13:*.mp4=38;5;13:*.m4v=38;5;13:*.mp4v=38;5;13:*.vob=38;5;13:*.qt=38;5;13:*.nuv=38;5;13:*.wmv=38;5;13:*.asf=38;5;13:*.rm=38;5;13:*.rmvb=38;5;13:*.flc=38;5;13:*.avi=38;5;13:*.fli=38;5;13:*.flv=38;5;13:*.gl=38;5;13:*.dl=38;5;13:*.xcf=38;5;13:*.xwd=38;5;13:*.yuv=38;5;13:*.cgm=38;5;13:*.emf=38;5;13:*.ogv=38;5;13:*.ogx=38;5;13:*.aac=38;5;45:*.au=38;5;45:*.flac=38;5;45:*.m4a=38;5;45:*.mid=38;5;45:*.midi=38;5;45:*.mka=38;5;45:*.mp3=38;5;45:*.mpc=38;5;45:*.ogg=38;5;45:*.ra=38;5;45:*.wav=38;5;45:*.oga=38;5;45:*.opus=38;5;45:*.spx=38;5;45:*.xspf=38;5;45:
SLURM_NODEID=0
SLURM_TASK_PID=3496261
__LMOD_REF_COUNT_PATH=/cm/shared/apps/slurm/current/sbin:1;/cm/shared/apps/slurm/current/bin:1;/home/mkandes/cm/shared/apps/spack/0.17.1/cpu/bin:1;/cm/shared/apps/sdsc/galyleo:1;/home/mkandes/.local/bin:1;/home/mkandes/bin:1;/usr/local/bin:1;/usr/bin:1;/usr/local/sbin:1;/usr/sbin:1
_ModuleTable002_=ZXMiLCIvdXNyL3NoYXJlL21vZHVsZWZpbGVzIiwiL3Vzci9zaGFyZS9Nb2R1bGVzL21vZHVsZWZpbGVzIiwiL2NtL3NoYXJlZC9tb2R1bGVmaWxlcyIsfSxbInN5c3RlbUJhc2VNUEFUSCJdPSIvY20vbG9jYWwvbW9kdWxlZmlsZXM6L2NtL3NoYXJlZC9hcHBzL3hzZWRlL21vZHVsZWZpbGVzOi9jbS9zaGFyZWQvbW9kdWxlZmlsZXM6L2V0Yy9tb2R1bGVmaWxlczovdXNyL3NoYXJlL21vZHVsZWZpbGVzOi91c3Ivc2hhcmUvTW9kdWxlcy9tb2R1bGVmaWxlcyIsfQ==
SSH_CONNECTION=24.233.173.28 51609 198.202.100.14 22
SPACK_PYTHON=/usr/bin/python3
SLURM_PRIO_PROCESS=0
LANG=en_US.UTF-8
SLURM_SUBMIT_DIR=/home/mkandes/cm/shared/apps/spack/0.17.1/cpu/etc/spack/sdsc/expanse/0.17.1/cpu/specs/intel@19.1.3.304
HISTCONTROL=ignoredups
HOSTNAME=exp-2-07
LMOD_SYSTEM_DEFAULT_MODULES=DefaultModules
SLURM_JOB_DEPENDENCY=afterok:11608494
OLDPWD=/home/mkandes/cm/shared/apps/spack/0.17.1/cpu/etc/spack/sdsc/expanse/0.17.1/cpu/specs
__LMOD_REF_COUNT__LMFILES_=/cm/local/modulefiles/slurm/expanse/current:1
SLURM_CPUS_PER_TASK=16
SPACK_DEPENDENCIES=
ENVIRONMENT=BATCH
SPACK_VERSION=0.17.1
SLURM_PROCID=0
SLURM_JOB_GID=300
SPACK_VARIANTS=+cpanm +shared +threads
SPACK_INSTANCE_DIR=/home/mkandes/cm/shared/apps/spack/0.17.1/cpu
__LMOD_REF_COUNT_LD_LIBRARY_PATH=/cm/shared/apps/slurm/current/lib64/slurm:1;/cm/shared/apps/slurm/current/lib64:1
SLURM_JOB_SCRIPT=/home/mkandes/cm/shared/apps/spack/0.17.1/cpu/etc/spack/sdsc/expanse/0.17.1/cpu/specs/intel@19.1.3.304/perl@5.34.0.sh
SLURMD_NODENAME=exp-2-07
SLURM_TASKS_PER_NODE=1
S_COLORS=auto
which_declare=declare -f
SPACK_COMPILER=intel@19.1.3.304
XDG_SESSION_ID=726245
USER=mkandes
SLURM_NNODES=1
SLURM_NTASKS_PER_NODE=1
__LMOD_REF_COUNT_MODULEPATH=/cm/local/modulefiles:1;/cm/shared/apps/xsede/modulefiles:1;/etc/modulefiles:1;/usr/share/modulefiles:1;/usr/share/Modules/modulefiles:1;/cm/shared/modulefiles:1
__LMOD_REF_COUNT_LOADEDMODULES=slurm/expanse/current:1
PWD=/home/mkandes/cm/shared/apps/spack/0.17.1/cpu/etc/spack/sdsc/expanse/0.17.1/cpu/specs/intel@19.1.3.304
ENABLE_LMOD=1
SLURM_JOB_NODELIST=exp-2-07
HOME=/home/mkandes
SLURM_CLUSTER_NAME=expanse
LMOD_COLORIZE=yes
LOCAL_TIME=20220419T074607-0700
SLURM_NODELIST=exp-2-07
SSH_CLIENT=24.233.173.28 51609 22
LMOD_VERSION=8.2.4
CPATH=/cm/shared/apps/slurm/current/include
SLURM_NTASKS=1
LMOD_SETTARG_CMD=:
SLURM_JOB_CPUS_PER_NODE=16
BASH_ENV=/usr/share/lmod/lmod/init/bash
SLURM_TOPOLOGY_ADDR=exp-2-07
SLURM_WORKING_CLUSTER=expanse:mgr1:6817:8960:109
SLURM_JOB_MD5SUM=9ad104a00dd7e23a6e4b7c25dbe0177b  /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/etc/spack/sdsc/expanse/0.17.1/cpu/specs/intel@19.1.3.304/perl@5.34.0.sh
SPACK_PACKAGE=perl@5.34.0
__LMOD_REF_COUNT_LIBRARY_PATH=/cm/shared/apps/slurm/current/lib64/slurm:1;/cm/shared/apps/slurm/current/lib64:1
SLURM_JOB_NAME=perl@5.34.0
TMPDIR=/tmp
LIBRARY_PATH=/cm/shared/apps/slurm/current/lib64/slurm:/cm/shared/apps/slurm/current/lib64
LMOD_sys=Linux
SLURM_JOBID=11608996
SYSTEM_NAME=expanse
_ModuleTable001_=X01vZHVsZVRhYmxlXz17WyJNVHZlcnNpb24iXT0zLFsiY19yZWJ1aWxkVGltZSJdPWZhbHNlLFsiY19zaG9ydFRpbWUiXT1mYWxzZSxkZXB0aFQ9e30sZmFtaWx5PXt9LG1UPXtzbHVybT17WyJmbiJdPSIvY20vbG9jYWwvbW9kdWxlZmlsZXMvc2x1cm0vZXhwYW5zZS9jdXJyZW50IixbImZ1bGxOYW1lIl09InNsdXJtL2V4cGFuc2UvY3VycmVudCIsWyJsb2FkT3JkZXIiXT0xLHByb3BUPXt9LFsic3RhY2tEZXB0aCJdPTAsWyJzdGF0dXMiXT0iYWN0aXZlIixbInVzZXJOYW1lIl09InNsdXJtL2V4cGFuc2UvY3VycmVudCIsfSx9LG1wYXRoQT17Ii9jbS9sb2NhbC9tb2R1bGVmaWxlcyIsIi9jbS9zaGFyZWQvYXBwcy94c2VkZS9tb2R1bGVmaWxlcyIsIi9ldGMvbW9kdWxlZmls
SLURM_CONF=/cm/shared/apps/slurm/var/etc/expanse/slurm.conf
LOADEDMODULES=slurm/expanse/current
__LMOD_REF_COUNT_MANPATH=/cm/shared/apps/slurm/current/man:2;/usr/share/lmod/lmod/share/man:1;/usr/local/share/man:1;/usr/share/man:1;/cm/local/apps/environment-modules/current/share/man:1
_ModuleTable003_=dXNlck5hbWUiXT0ic2x1cm0iLH0sfSxtcGF0aEE9eyIvY20vc2hhcmVkL2FwcHMvc3BhY2svY3B1L2xtb2QvbGludXgtY2VudG9zOC14ODZfNjQvQ29yZSIsIi9jbS9sb2NhbC9tb2R1bGVmaWxlcyIsIi9jbS9zaGFyZWQvYXBwcy94c2VkZS9tb2R1bGVmaWxlcyIsIi9ldGMvbW9kdWxlZmlsZXMiLCIvdXNyL3NoYXJlL21vZHVsZWZpbGVzIiwiL3Vzci9zaGFyZS9Nb2R1bGVzL21vZHVsZWZpbGVzIiwiL2NtL3NoYXJlZC9tb2R1bGVmaWxlcyIsfSxbInN5c3RlbUJhc2VNUEFUSCJdPSIvY20vbG9jYWwvbW9kdWxlZmlsZXM6L2NtL3NoYXJlZC9hcHBzL3hzZWRlL21vZHVsZWZpbGVzOi9jbS9zaGFyZWQvbW9kdWxlZmlsZXM6L2V0Yy9tb2R1bGVmaWxlczovdXNyL3NoYXJlL21v
SLURM_NODE_ALIASES=(null)
INTEL_LICENSE_FILE=40000@elprado.sdsc.edu:40200@elprado.sdsc.edu
LMOD_ROOT=/usr/share/lmod
SLURM_JOB_QOS=shared-normal
SLURM_TOPOLOGY_ADDR_PATTERN=node
SSH_TTY=/dev/pts/170
MAIL=/var/spool/mail/mkandes
SLURM_CPUS_ON_NODE=16
LMOD_arch=x86_64
SLURM_JOB_NUM_NODES=1
__Init_Default_Modules=1
CMD_WLM_CLUSTER_NAME=expanse
SLURM_MEM_PER_NODE=32768
SPACK_ROOT=/home/mkandes/cm/shared/apps/spack/0.17.1/cpu
TERM=xterm-256color
SHELL=/bin/bash
_ModuleTable_Sz_=2
SLURM_JOB_UID=501506
__LMOD_REF_COUNT_CPATH=/cm/shared/apps/slurm/current/include:1
SLURM_JOB_PARTITION=shared
SPACK_INSTANCE_NAME=cpu
SLURM_JOB_USER=mkandes
SLURM_NPROCS=1
SHLVL=3
SLURM_SUBMIT_HOST=exp-2-07
UNIX_TIME=1650379567
SLURM_JOB_ACCOUNT=use300
MANPATH=/cm/shared/apps/slurm/current/man:/usr/share/lmod/lmod/share/man::/usr/local/share/man:/usr/share/man:/cm/local/apps/environment-modules/current/share/man
SPACK_LD_LIBRARY_PATH=/cm/shared/apps/slurm/current/lib64/slurm:/cm/shared/apps/slurm/current/lib64
LMOD_PREPEND_BLOCK=normal
MODULEPATH=/cm/local/modulefiles:/cm/shared/apps/xsede/modulefiles:/etc/modulefiles:/usr/share/modulefiles:/usr/share/Modules/modulefiles:/cm/shared/modulefiles
SLURM_GTIDS=0
LOGNAME=mkandes
DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/501506/bus
XDG_RUNTIME_DIR=/run/user/501506
MODULEPATH_ROOT=/usr/share/modulefiles
PATH=/cm/shared/apps/slurm/current/sbin:/cm/shared/apps/slurm/current/bin:/home/mkandes/cm/shared/apps/spack/0.17.1/cpu/bin:/cm/shared/apps/sdsc/galyleo:/home/mkandes/.local/bin:/home/mkandes/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin
SLURM_JOB_ID=11608996
_LMFILES_=/cm/local/modulefiles/slurm/expanse/current
MODULESHOME=/usr/share/lmod/lmod
SCHEDULER_MODULE=slurm/expanse/current
LMOD_SETTARG_FULL_SUPPORT=no
HISTSIZE=1000
LMOD_PKG=/usr/share/lmod/lmod
SPACK_SPEC=perl@5.34.0 % intel@19.1.3.304 +cpanm +shared +threads 
LMOD_CMD=/usr/share/lmod/lmod/libexec/lmod
SLURM_LOCALID=0
LESSOPEN=||/usr/bin/lesspipe.sh %s
LMOD_FULL_SETTARG_SUPPORT=no
LMOD_DIR=/usr/share/lmod/lmod/libexec
BASH_FUNC_which%%=() {  ( alias;
 eval ${which_declare} ) | /usr/bin/which --tty-only --read-alias --read-functions --show-tilde --show-dot "$@"
}
BASH_FUNC_module%%=() {  eval $($LMOD_CMD bash "$@") && eval $(${LMOD_SETTARG_CMD:-:} -s sh)
}
BASH_FUNC_spack%%=() {  : this is a shell function from: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/share/spack/setup-env.sh;
 : the real spack script is here: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/bin/spack;
 _spack_shell_wrapper "$@";
 return $?
}
BASH_FUNC__spack_shell_wrapper%%=() {  for var in LD_LIBRARY_PATH DYLD_LIBRARY_PATH DYLD_FALLBACK_LIBRARY_PATH;
 do
 eval "if [ -n \"\${${var}-}\" ]; then export SPACK_$var=\${${var}}; fi";
 done;
 if [ -n "${ZSH_VERSION:-}" ]; then
 emulate -L sh;
 fi;
 _sp_flags="";
 while [ ! -z ${1+x} ] && [ "${1#-}" != "${1}" ]; do
 _sp_flags="$_sp_flags $1";
 shift;
 done;
 if [ -n "$_sp_flags" ] && [ "${_sp_flags#*h}" != "${_sp_flags}" ] || [ "${_sp_flags#*V}" != "${_sp_flags}" ]; then
 command spack $_sp_flags "$@";
 return;
 fi;
 _sp_subcommand="";
 if [ ! -z ${1+x} ]; then
 _sp_subcommand="$1";
 shift;
 fi;
 case $_sp_subcommand in 
 "cd")
 _sp_arg="";
 if [ -n "$1" ]; then
 _sp_arg="$1";
 shift;
 fi;
 if [ "$_sp_arg" = "-h" ] || [ "$_sp_arg" = "--help" ]; then
 command spack cd -h;
 else
 LOC="$(spack location $_sp_arg "$@")";
 if [ -d "$LOC" ]; then
 cd "$LOC";
 else
 return 1;
 fi;
 fi;
 return
 ;;
 "env")
 _sp_arg="";
 if [ -n "$1" ]; then
 _sp_arg="$1";
 shift;
 fi;
 if [ "$_sp_arg" = "-h" ] || [ "$_sp_arg" = "--help" ]; then
 command spack env -h;
 else
 case $_sp_arg in 
 activate)
 _a=" $@";
 if [ -z ${1+x} ] || [ "${_a#* --sh}" != "$_a" ] || [ "${_a#* --csh}" != "$_a" ] || [ "${_a#* -h}" != "$_a" ] || [ "${_a#* --help}" != "$_a" ]; then
 command spack env activate "$@";
 else
 stdout="$(command spack $_sp_flags env activate --sh "$@")" || return;
 eval "$stdout";
 fi
 ;;
 deactivate)
 _a=" $@";
 if [ "${_a#* --sh}" != "$_a" ] || [ "${_a#* --csh}" != "$_a" ]; then
 command spack env deactivate "$@";
 else
 if [ -n "$*" ]; then
 command spack env deactivate -h;
 else
 stdout="$(command spack $_sp_flags env deactivate --sh)" || return;
 eval "$stdout";
 fi;
 fi
 ;;
 *)
 command spack env $_sp_arg "$@"
 ;;
 esac;
 fi;
 return
 ;;
 "load" | "unload")
 _a=" $@";
 if [ "${_a#* --sh}" != "$_a" ] || [ "${_a#* --csh}" != "$_a" ] || [ "${_a#* -h}" != "$_a" ] || [ "${_a#* --list}" != "$_a" ] || [ "${_a#* --help}" != "$_a" ]; then
 command spack $_sp_flags $_sp_subcommand "$@";
 else
 stdout="$(command spack $_sp_flags $_sp_subcommand --sh "$@")" || return;
 eval "$stdout";
 fi
 ;;
 *)
 command spack $_sp_flags $_sp_subcommand "$@"
 ;;
 esac
}
BASH_FUNC_ml%%=() {  eval $($LMOD_DIR/ml_cmd "$@")
}
_=/usr/bin/printenv
compilers:
- compiler:
    spec: gcc@8.5.0
    paths:
      cc: /usr/bin/gcc
      cxx: /usr/bin/g++
      f77: /usr/bin/gfortran
      fc: /usr/bin/gfortran
    flags:
      cflags: -O2 -march=native
      cxxflags: -O2 -march=native
      fflags: -O2 -march=native
    operating_system: rocky8
    target: x86_64
    modules: []
    environment: {}
    extra_rpaths: []
- compiler:
    spec: gcc@10.2.0
    paths:
      cc: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen/gcc-8.5.0/gcc-10.2.0-npcyll4gxjhf4tejksmdzlsl3d3usqpd/bin/gcc
      cxx: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen/gcc-8.5.0/gcc-10.2.0-npcyll4gxjhf4tejksmdzlsl3d3usqpd/bin/g++
      f77: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen/gcc-8.5.0/gcc-10.2.0-npcyll4gxjhf4tejksmdzlsl3d3usqpd/bin/gfortran
      fc: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen/gcc-8.5.0/gcc-10.2.0-npcyll4gxjhf4tejksmdzlsl3d3usqpd/bin/gfortran
    flags: {}
    operating_system: rocky8
    target: x86_64
    modules: []
    environment: {}
    extra_rpaths: []
- compiler:
    spec: intel@19.1.3.304
    paths:
      cc: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen/gcc-8.5.0/intel-19.1.3.304-6pv46sozip5o35ezrswc4p77gsiawktn/bin/icc
      cxx: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen/gcc-8.5.0/intel-19.1.3.304-6pv46sozip5o35ezrswc4p77gsiawktn/bin/icpc
      f77: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen/gcc-8.5.0/intel-19.1.3.304-6pv46sozip5o35ezrswc4p77gsiawktn/bin/ifort
      fc: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen/gcc-8.5.0/intel-19.1.3.304-6pv46sozip5o35ezrswc4p77gsiawktn/bin/ifort
    flags: {}
    operating_system: rocky8
    target: x86_64
    modules: []
    environment: {}
    extra_rpaths: []
config:
  install_tree:
    root: $spack/opt/spack
    projections:
      all: ${ARCHITECTURE}/${COMPILERNAME}-${COMPILERVER}/${PACKAGE}-${VERSION}-${HASH}
  template_dirs:
  - $spack/share/spack/templates

  # Temporary locations Spack can try to use for builds.
  #
  # Recommended options are given below.
  #
  # Builds can be faster in temporary directories on some (e.g., HPC) systems.
  # Specifying `$tempdir` will ensure use of the default temporary directory
  # (i.e., ``$TMP` or ``$TMPDIR``).
  #
  # Another option that prevents conflicts and potential permission issues is
  # to specify `$user_cache_path/stage`, which ensures each user builds in their
  # home directory.
  #
  # A more traditional path uses the value of `$spack/var/spack/stage`, which
  # builds directly inside Spack's instance without staging them in a
  # temporary space.  Problems with specifying a path inside a Spack instance
  # are that it precludes its use as a system package and its ability to be
  # pip installable.
  #
  # In any case, if the username is not already in the path, Spack will append
  # the value of `$user` in an attempt to avoid potential conflicts between
  # users in shared temporary spaces.
  #
  # The build stage can be purged with `spack clean --stage` and
  # `spack clean -a`, so it is important that the specified directory uniquely
  # identifies Spack staging to avoid accidentally wiping out non-Spack work.
  build_stage:
  - $tempdir/$user/spack-stage
  - $user_cache_path/stage
  # - $spack/var/spack/stage

  # Directory in which to run tests and store test results.
  # Tests will be stored in directories named by date/time and package
  # name/hash.
  test_stage: $user_cache_path/test
  source_cache: $spack/var/spack/cache
  misc_cache: $user_cache_path/cache
  connect_timeout: 10
  verify_ssl: true
  suppress_gpg_warnings: false
  install_missing_compilers: false
  checksum: true
  deprecated: false
  dirty: false
  build_language: C
  locks: true
  url_fetch_method: urllib
  ccache: false
  concretizer: clingo
  db_lock_timeout: 3
  package_lock_timeout: null
  shared_linking: rpath
  allow_sgid: true
  terminal_title: false
  debug: false
  build_jobs: 16
mirrors:
  spack-public: https://mirror.spack.io
modules:
  default:
    'enable:':
    - lmod
    lmod:
      core_compilers:
      - gcc@8.5.0
      hierarchy:
      - mpi
      hash_length: 0
      blacklist_implicits: true
      naming_scheme: '{name}/{version}'
      projections:
        all: '{name}/{version}'
      adol-c:
        suffixes:
          +openmp: omp
      amdblis:
        suffixes:
          threads=openmp: omp
      fftw:
        suffixes:
          +openmp: omp
      hpl:
        suffixes:
          +openmp: omp
      hypre:
        suffixes:
          +openmp: omp
      intel:
        environment:
          set:
            INTEL_LICENSE_FILE: 40000@elprado.sdsc.edu:40200@elprado.sdsc.edu
      kokkos:
        suffixes:
          +openmp: omp
      openblas:
        suffixes:
          threads=openmp: omp
      petsc:
        suffixes:
          +complex: cmplx
      slepc:
        suffixes:
          ^petsc +complex: cmplx
      ^python:
        autoload: direct
  prefix_inspections:
    lib:
    - LD_LIBRARY_PATH
    lib64:
    - LD_LIBRARY_PATH
    bin:
    - PATH
    man:
    - MANPATH
    share/man:
    - MANPATH
    share/aclocal:
    - ACLOCAL_PATH
    lib/pkgconfig:
    - PKG_CONFIG_PATH
    lib64/pkgconfig:
    - PKG_CONFIG_PATH
    share/pkgconfig:
    - PKG_CONFIG_PATH
    ? ''
    : - CMAKE_PREFIX_PATH

  # These are configurations for the module set named "default"
packages:
  lustre:
    externals:
    - spec: lustre@2.12.8 % gcc@10.2.0 arch=linux-rocky8-zen2
      prefix: /usr
    buildable: false
  openssl:
    externals:
    - spec: openssl@1.1.1k % gcc@8.5.0 arch=linux-rocky8-zen
      prefix: /usr
    - spec: openssl@1.1.1k % gcc@10.2.0 arch=linux-rocky8-zen2
      prefix: /usr
    buildable: false
  rdma-core:
    externals:
    - spec: rdma-core@28.0 % gcc@10.2.0 arch=linux-rocky8-zen2
      prefix: /usr
    buildable: false
  slurm:
    externals:
    - spec: slurm@20.02.7 % gcc@10.2.0 arch=linux-rocky8-zen2
      prefix: /cm/shared/apps/slurm/20.02.7
    buildable: false
  librsvg:
    externals:
    - spec: librsvg@2.42.7 % gcc@10.2.0 arch=linux-rocky8-zen2
      prefix: /usr
    buildable: false
  ghostscript:
    externals:
    - spec: ghostscript@9.27 % gcc@10.2.0 arch=linux-rocky8-zen2
      prefix: /usr
    buildable: false
  all:
    compiler: [gcc, intel, pgi, clang, xl, nag, fj, aocc]
    providers:
      awk: [gawk]
      blas: [openblas, amdblis]
      D: [ldc]
      daal: [intel-daal]
      elf: [elfutils]
      fftw-api: [fftw, amdfftw]
      flame: [libflame, amdlibflame]
      fuse: [libfuse]
      gl: [mesa+opengl, mesa18, opengl]
      glu: [mesa-glu, openglu]
      glx: [mesa+glx, mesa18+glx, opengl]
      golang: [gcc]
      iconv: [libiconv]
      ipp: [intel-ipp]
      java: [openjdk, jdk, ibm-java]
      jpeg: [libjpeg-turbo, libjpeg]
      lapack: [openblas, amdlibflame]
      lua-lang: [lua, lua-luajit]
      mariadb-client: [mariadb-c-client, mariadb]
      mkl: [intel-mkl]
      mpe: [mpe2]
      mpi: [openmpi, mpich]
      mysql-client: [mysql, mariadb-c-client]
      opencl: [pocl]
      onedal: [intel-oneapi-dal]
      osmesa: [mesa+osmesa, mesa18+osmesa]
      pbs: [openpbs, torque]
      pil: [py-pillow]
      pkgconfig: [pkgconf, pkg-config]
      rpc: [libtirpc]
      scalapack: [netlib-scalapack, amdscalapack]
      sycl: [hipsycl]
      szip: [libaec, libszip]
      tbb: [intel-tbb]
      unwind: [libunwind]
      uuid: [util-linux-uuid, libuuid]
      xxd: [xxd-standalone, vim]
      yacc: [bison, byacc]
      ziglang: [zig]
    permissions:
      read: world
      write: user
repos:
- $spack/var/spack/repos/sdsc
- $spack/var/spack/repos/builtin
upstreams: {}
Input spec
--------------------------------
[    ]  .perl@5.34.0%intel@19.1.3.304+cpanm+shared+threads

Concretized
--------------------------------
hmc7x3o  [    ]  builtin.perl@5.34.0%intel@19.1.3.304+cpanm+shared+threads arch=linux-rocky8-zen2
e6jxz5y  [bl  ]      ^builtin.berkeley-db@18.1.40%intel@19.1.3.304+cxx~docs+stl patches=b231fcc4d5cff05e5c3a4814f6a5af0e9a966428dc2176540d2c05aff41de522 arch=linux-rocky8-zen2
umdyucs  [bl  ]      ^builtin.bzip2@1.0.8%intel@19.1.3.304~debug~pic+shared arch=linux-rocky8-zen2
4tmqpul  [b   ]          ^builtin.diffutils@3.8%intel@19.1.3.304 arch=linux-rocky8-zen2
avhq3ua  [bl  ]              ^builtin.libiconv@1.16%intel@19.1.3.304 libs=shared,static arch=linux-rocky8-zen2
6y7k2dv  [bl  ]      ^sdsc.gdbm@1.19%intel@19.1.3.304 arch=linux-rocky8-zen2
kbqwhsz  [bl  ]          ^builtin.readline@8.1%intel@19.1.3.304 arch=linux-rocky8-zen2
mfdtybg  [bl  ]              ^builtin.ncurses@6.2%intel@19.1.3.304~symlinks+termlib abi=none arch=linux-rocky8-zen2
t2dn7r4  [b   ]                  ^builtin.pkgconf@1.8.0%intel@19.1.3.304 arch=linux-rocky8-zen2
f5jcopl  [bl  ]      ^builtin.zlib@1.2.11%intel@19.1.3.304+optimize+pic+shared arch=linux-rocky8-zen2

==> Installing berkeley-db-18.1.40-e6jxz5y3efpfpcw2igbtwzfnhcgcijyc
==> No binary for berkeley-db-18.1.40-e6jxz5y3efpfpcw2igbtwzfnhcgcijyc found: installing from source
==> Using cached archive: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/var/spack/cache/_source-cache/archive/0c/0cecb2ef0c67b166de93732769abdeba0555086d51de1090df325e18ee8da9c8.tar.gz
==> Applied patch /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/var/spack/repos/builtin/packages/berkeley-db/drop-docs.patch
==> Ran patch() for berkeley-db
==> Warning: Intel's compilers may or may not optimize to the same degree for non-Intel microprocessors for optimizations that are not unique to Intel microprocessors
==> berkeley-db: Executing phase: 'autoreconf'
==> berkeley-db: Executing phase: 'configure'
==> berkeley-db: Executing phase: 'build'
==> berkeley-db: Executing phase: 'install'
==> berkeley-db: Successfully installed berkeley-db-18.1.40-e6jxz5y3efpfpcw2igbtwzfnhcgcijyc
  Fetch: 0.23s.  Build: 43.27s.  Total: 43.50s.
[+] /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen2/intel-19.1.3.304/berkeley-db-18.1.40-e6jxz5y3efpfpcw2igbtwzfnhcgcijyc
==> Installing libiconv-1.16-avhq3uadbw7u6wisqm2rb5kmw7od3phs
==> No binary for libiconv-1.16-avhq3uadbw7u6wisqm2rb5kmw7od3phs found: installing from source
==> Using cached archive: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/var/spack/cache/_source-cache/archive/e6/e6a1b1b589654277ee790cce3734f07876ac4ccfaecbee8afa0b649cf529cc04.tar.gz
==> No patches needed for libiconv
==> Warning: Intel's compilers may or may not optimize to the same degree for non-Intel microprocessors for optimizations that are not unique to Intel microprocessors
==> libiconv: Executing phase: 'autoreconf'
==> libiconv: Executing phase: 'configure'
==> libiconv: Executing phase: 'build'
==> libiconv: Executing phase: 'install'
==> libiconv: Successfully installed libiconv-1.16-avhq3uadbw7u6wisqm2rb5kmw7od3phs
  Fetch: 0.20s.  Build: 40.87s.  Total: 41.07s.
[+] /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen2/intel-19.1.3.304/libiconv-1.16-avhq3uadbw7u6wisqm2rb5kmw7od3phs
[+] /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen2/intel-19.1.3.304/pkgconf-1.8.0-t2dn7r42sabpibwg7nu5i5a2drwwl7fa
==> Installing zlib-1.2.11-f5jcoplh5kwwwffz6aoo4s4ujzfrs7m7
==> No binary for zlib-1.2.11-f5jcoplh5kwwwffz6aoo4s4ujzfrs7m7 found: installing from source
==> Using cached archive: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/var/spack/cache/_source-cache/archive/c3/c3e5e9fdd5004dcb542feda5ee4f0ff0744628baf8ed2dd5d66f8ca1197cb1a1.tar.gz
==> No patches needed for zlib
==> Warning: Intel's compilers may or may not optimize to the same degree for non-Intel microprocessors for optimizations that are not unique to Intel microprocessors
==> zlib: Executing phase: 'install'
==> zlib: Successfully installed zlib-1.2.11-f5jcoplh5kwwwffz6aoo4s4ujzfrs7m7
  Fetch: 0.12s.  Build: 3.78s.  Total: 3.90s.
[+] /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen2/intel-19.1.3.304/zlib-1.2.11-f5jcoplh5kwwwffz6aoo4s4ujzfrs7m7
==> Installing diffutils-3.8-4tmqpulnodu3c63el2honngyhyr4c2v6
==> No binary for diffutils-3.8-4tmqpulnodu3c63el2honngyhyr4c2v6 found: installing from source
==> Using cached archive: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/var/spack/cache/_source-cache/archive/a6/a6bdd7d1b31266d11c4f4de6c1b748d4607ab0231af5188fc2533d0ae2438fec.tar.xz
==> No patches needed for diffutils
==> Warning: Intel's compilers may or may not optimize to the same degree for non-Intel microprocessors for optimizations that are not unique to Intel microprocessors
==> diffutils: Executing phase: 'autoreconf'
==> diffutils: Executing phase: 'configure'
==> diffutils: Executing phase: 'build'
==> diffutils: Executing phase: 'install'
==> diffutils: Successfully installed diffutils-3.8-4tmqpulnodu3c63el2honngyhyr4c2v6
  Fetch: 0.15s.  Build: 1m 1.63s.  Total: 1m 1.78s.
[+] /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen2/intel-19.1.3.304/diffutils-3.8-4tmqpulnodu3c63el2honngyhyr4c2v6
[+] /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen2/intel-19.1.3.304/ncurses-6.2-mfdtybg66ia3vxifcvszsoyds5ssf63m
==> Installing bzip2-1.0.8-umdyucsj4z22fphy7jiqiwxeyqt2bufo
==> No binary for bzip2-1.0.8-umdyucsj4z22fphy7jiqiwxeyqt2bufo found: installing from source
==> Using cached archive: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/var/spack/cache/_source-cache/archive/ab/ab5a03176ee106d3f0fa90e381da478ddae405918153cca248e682cd0c4a2269.tar.gz
==> Ran patch() for bzip2
==> Warning: Intel's compilers may or may not optimize to the same degree for non-Intel microprocessors for optimizations that are not unique to Intel microprocessors
==> bzip2: Executing phase: 'install'
==> bzip2: Successfully installed bzip2-1.0.8-umdyucsj4z22fphy7jiqiwxeyqt2bufo
  Fetch: 0.13s.  Build: 4.93s.  Total: 5.06s.
[+] /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen2/intel-19.1.3.304/bzip2-1.0.8-umdyucsj4z22fphy7jiqiwxeyqt2bufo
==> Installing readline-8.1-kbqwhsz4fbip54f3omzwcgjj3lboxcxr
==> No binary for readline-8.1-kbqwhsz4fbip54f3omzwcgjj3lboxcxr found: installing from source
==> Using cached archive: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/var/spack/cache/_source-cache/archive/f8/f8ceb4ee131e3232226a17f51b164afc46cd0b9e6cef344be87c65962cb82b02.tar.gz
==> Ran patch() for readline
==> Warning: Intel's compilers may or may not optimize to the same degree for non-Intel microprocessors for optimizations that are not unique to Intel microprocessors
==> readline: Executing phase: 'autoreconf'
==> readline: Executing phase: 'configure'
==> readline: Executing phase: 'build'
==> readline: Executing phase: 'install'
==> readline: Successfully installed readline-8.1-kbqwhsz4fbip54f3omzwcgjj3lboxcxr
  Fetch: 0.18s.  Build: 19.45s.  Total: 19.64s.
[+] /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen2/intel-19.1.3.304/readline-8.1-kbqwhsz4fbip54f3omzwcgjj3lboxcxr
==> Installing gdbm-1.19-6y7k2dvmru37xtbwmhdrd7wskod3a3ob
==> No binary for gdbm-1.19-6y7k2dvmru37xtbwmhdrd7wskod3a3ob found: installing from source
==> Using cached archive: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/var/spack/cache/_source-cache/archive/37/37ed12214122b972e18a0d94995039e57748191939ef74115b1d41d8811364bc.tar.gz
==> No patches needed for gdbm
==> Warning: Intel's compilers may or may not optimize to the same degree for non-Intel microprocessors for optimizations that are not unique to Intel microprocessors
==> gdbm: Executing phase: 'autoreconf'
==> gdbm: Executing phase: 'configure'
==> gdbm: Executing phase: 'build'
==> gdbm: Executing phase: 'install'
==> gdbm: Successfully installed gdbm-1.19-6y7k2dvmru37xtbwmhdrd7wskod3a3ob
  Fetch: 0.13s.  Build: 19.19s.  Total: 19.32s.
[+] /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen2/intel-19.1.3.304/gdbm-1.19-6y7k2dvmru37xtbwmhdrd7wskod3a3ob
==> Installing perl-5.34.0-hmc7x3omgxdg42o5bwyjuysmniutewvr
==> No binary for perl-5.34.0-hmc7x3omgxdg42o5bwyjuysmniutewvr found: installing from source
==> Using cached archive: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/var/spack/cache/_source-cache/archive/55/551efc818b968b05216024fb0b727ef2ad4c100f8cb6b43fab615fa78ae5be9a.tar.gz
==> Using cached archive: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/var/spack/cache/_source-cache/archive/9d/9da50e155df72bce55cb69f51f1dbb4b62d23740fb99f6178bb27f22ebdf8a46.tar.gz
==> Moving resource stage
	source : /tmp/mkandes/spack-stage/resource-cpanm-hmc7x3omgxdg42o5bwyjuysmniutewvr/spack-src/
	destination : /tmp/mkandes/spack-stage/spack-stage-perl-5.34.0-hmc7x3omgxdg42o5bwyjuysmniutewvr/spack-src/cpanm/cpanm
==> Ran patch() for perl
==> Warning: Intel's compilers may or may not optimize to the same degree for non-Intel microprocessors for optimizations that are not unique to Intel microprocessors
==> perl: Executing phase: 'configure'
==> perl: Executing phase: 'build'
==> Error: ProcessError: Command exited with status 2:
    'make' '-j16'

141 errors found in build log:
     30      cygwin        haiku   	      mirbsd   		sco_2_3_2     uwin
     31      darwin        hpux   	      mpc   		sco_2_3_3     vos
     32      dcosx         i386   	      ncr_tower   	sco_2_3_4
     33      dec_osf       interix         netbsd   		solaris_2
     34      dos_djgpp     irix_4          newsos4   	stellar
     35      Which of these apply, if any? [linux]
  >> 36      gcc: error: unrecognized command line option '-we147'
  >> 37      gcc: error: unrecognized command line option '-mp'; did you mean '
             -p'?
  >> 38      gcc: error: unrecognized command line option '-no-gcc'; did you me
             an '-fno-dce'?
     39      Operating system name? [linux]
     40      Operating system version? [4.18.0-348.12.2.el8_5.x86_64]
     41      Installation prefix to use? (~name ok)
     42      [/home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-roc
             ky8-zen2/intel-19.1.3.304/perl-5.34.0-hmc7x3omgxdg42o5bwyjuysmniut
             ewvr]
     43      AFS does not seem to be running...
     44      What installation prefix should I use for installing files? (~name
              ok)

     ...

     932     icc: command line remark #10148: option '-mp' not supported
     933     icc: command line remark #10148: option '-mp' not supported
     934     icc: command line remark #10148: option '-mp' not supported
     935     icc: command line remark #10148: option '-mp' not supported
     936     icc: command line remark #10148: option '-mp' not supported
     937     icc: command line remark #10148: option '-mp' not supported
  >> 938     toke.c(861): error: type name is not allowed
     939       	 && OpSLAB(parser->nextval[nexttoke].opval) == slab) {
     940       	    ^
     941     
  >> 942     toke.c(861): error: identifier "opslot_op" is undefined
     943       	 && OpSLAB(parser->nextval[nexttoke].opval) == slab) {
     944       	    ^
     945     
  >> 946     toke.c(861): error: type name is not allowed
     947       	 && OpSLAB(parser->nextval[nexttoke].opval) == slab) {
     948       	    ^
     949     
  >> 950     toke.c(861): error: expected an expression
     951       	 && OpSLAB(parser->nextval[nexttoke].opval) == slab) {
     952       	    ^
     953     
  >> 954     toke.c(861): error: identifier "opslab_slots" is undefined
     955       	 && OpSLAB(parser->nextval[nexttoke].opval) == slab) {
     956       	    ^
     957     
  >> 958     util.c(4772): error: identifier "__INT_MAX__" is undefined
     959                   if (grok_atoUV(p, &uv, &endptr) && uv <= U32_MAX) {
     960                                                            ^
     961     
     962     util.c(4906): warning #69: integer conversion resulted in truncati
             on
     963           u += SEED_C5 * (U32)PTR2UV(&when);
     964                          ^
     965     
  >> 966     perl.c(611): error: identifier "__INT_MAX__" is undefined
     967                       if (grok_atoUV(s, &uv, NULL) && uv <= INT_MAX)
     968                                                             ^
     969     
  >> 970     hv.c(93): error: type name is not allowed
     971           Newx(k, HEK_BASESIZE + len + 2, char);
     972           ^
     973     
  >> 974     hv.c(93): error: identifier "hek_key" is undefined
     975           Newx(k, HEK_BASESIZE + len + 2, char);
     976           ^
     977     
  >> 978     hv.c(93): error: type name is not allowed
     979           Newx(k, HEK_BASESIZE + len + 2, char);
     980           ^
     981     
  >> 982     hv.c(93): error: type name is not allowed
     983           Newx(k, HEK_BASESIZE + len + 2, char);
     984           ^
     985     
  >> 986     hv.c(93): error: type name is not allowed
     987           Newx(k, HEK_BASESIZE + len + 2, char);
     988           ^
     989     
  >> 990     hv.c(137): error: expected an expression
     991               (void)share_hek_hek(shared);
     992                     ^
     993     
  >> 994     hv.c(137): error: identifier "shared_he_hek" is undefined
     995               (void)share_hek_hek(shared);
     996                     ^
     997     
  >> 998     hv.c(169): error: type name is not allowed
     999               Newx(k, HEK_BASESIZE + sizeof(const SV *), char);
     1000              ^
     1001    
  >> 1002    hv.c(169): error: identifier "hek_key" is undefined
     1003              Newx(k, HEK_BASESIZE + sizeof(const SV *), char);
     1004              ^
     1005    
  >> 1006    hv.c(169): error: type name is not allowed
     1007              Newx(k, HEK_BASESIZE + sizeof(const SV *), char);
     1008              ^
     1009    
  >> 1010    hv.c(169): error: type name is not allowed
     1011              Newx(k, HEK_BASESIZE + sizeof(const SV *), char);
     1012              ^
     1013    
  >> 1014    hv.c(169): error: type name is not allowed
     1015              Newx(k, HEK_BASESIZE + sizeof(const SV *), char);
     1016              ^
     1017    
  >> 1018    hv.c(181): error: expected an expression
     1019                  (void)share_hek_hek(shared);
     1020                        ^
     1021    
  >> 1022    hv.c(181): error: identifier "shared_he_hek" is undefined
     1023                  (void)share_hek_hek(shared);
     1024                        ^
     1025    
  >> 1026    hv.c(436): error: type name is not allowed
     1027                          Newx(k, HEK_BASESIZE + sizeof(const SV *), c
             har);
     1028                          ^
     1029    
  >> 1030    hv.c(436): error: identifier "hek_key" is undefined
     1031                          Newx(k, HEK_BASESIZE + sizeof(const SV *), c
             har);
     1032                          ^
     1033    
  >> 1034    hv.c(436): error: type name is not allowed
     1035                          Newx(k, HEK_BASESIZE + sizeof(const SV *), c
             har);
     1036                          ^
     1037    
  >> 1038    hv.c(436): error: type name is not allowed
     1039                          Newx(k, HEK_BASESIZE + sizeof(const SV *), c
             har);
     1040                          ^
     1041    
  >> 1042    hv.c(436): error: type name is not allowed
     1043                          Newx(k, HEK_BASESIZE + sizeof(const SV *), c
             har);
     1044                          ^
     1045    
     1046    compilation aborted for util.c (code 2)
  >> 1047    hv.c(636): error: expected an expression
     1048                  keysv_hek  = SvSHARED_HEK_FROM_PV(SvPVX_const(keysv)
             );
     1049                               ^
     1050    
  >> 1051    hv.c(636): error: identifier "hek_key" is undefined
     1052                  keysv_hek  = SvSHARED_HEK_FROM_PV(SvPVX_const(keysv)
             );
     1053                               ^
     1054    
  >> 1055    hv.c(637): error: expected an expression
     1056              hash = SvSHARED_HASH(keysv);
     1057                     ^
     1058    
  >> 1059    hv.c(1191): error: expected an expression
     1060                  keysv_hek  = SvSHARED_HEK_FROM_PV(SvPVX_const(keysv)
             );
     1061                               ^
     1062    
  >> 1063    hv.c(1191): error: identifier "hek_key" is undefined
     1064                  keysv_hek  = SvSHARED_HEK_FROM_PV(SvPVX_const(keysv)
             );
     1065                               ^
     1066    
  >> 1067    hv.c(1192): error: expected an expression
     1068              hash = SvSHARED_HASH(keysv);
     1069                     ^
     1070    
     1071    make: *** [makefile:251: util.o] Error 2
     1072    make: *** Waiting for unfinished jobs....
  >> 1073    perl.c(4004): error: identifier "__INT_MAX__" is undefined
     1074                  && uv <= PERL_INT_MAX
     1075                           ^
     1076    
  >> 1077    toke.c(4713): error: identifier "__INT_MAX__" is undefined
     1078          unsigned int correct_length = maxlen < 0 ?  PERL_INT_MAX : m
             axlen;
     1079                                                      ^
     1080    
     1081    In file included from perl.h(7109),
     1082                     from op.c(163):
  >> 1083    inline.h(149): error: identifier "__INT_MAX__" is undefined
     1084          if (COP_SEQ_RANGE_LOW(pn) == PERL_PADSEQ_INTRO)
     1085                                       ^
     1086    
  >> 1087    mro_core.c(344): error: expected an expression
     1088                                  ? newSVhek(SvSHARED_HEK_FROM_PV(SvPV
             X(val)))
     1089                                    ^
     1090    
  >> 1091    mro_core.c(344): error: identifier "hek_key" is undefined
     1092                                  ? newSVhek(SvSHARED_HEK_FROM_PV(SvPV
             X(val)))
     1093                                    ^
     1094    
  >> 1095    gv.c(3832): error: type name is not allowed
     1096                                      STRUCT_OFFSET(XPVIV, xiv_iv));
     1097                                      ^
     1098    
  >> 1099    gv.c(3832): error: identifier "xiv_u" is undefined
     1100                                      STRUCT_OFFSET(XPVIV, xiv_iv));
     1101                                      ^
     1102    
     1103    In file included from perl.h(7109),
     1104                     from pad.c(150):
  >> 1105    inline.h(149): error: identifier "__INT_MAX__" is undefined
     1106          if (COP_SEQ_RANGE_LOW(pn) == PERL_PADSEQ_INTRO)
     1107                                       ^
     1108    
  >> 1109    hv.c(2719): error: type name is not allowed
     1110                      Newxz(k, HEK_BASESIZE + sizeof(const SV *), char
             );
     1111                      ^
     1112    
     1113    compilation aborted for perlmini.c (code 2)
  >> 1114    hv.c(2719): error: identifier "hek_key" is undefined
     1115                      Newxz(k, HEK_BASESIZE + sizeof(const SV *), char
             );
     1116                      ^
     1117    
  >> 1118    hv.c(2719): error: type name is not allowed
     1119                      Newxz(k, HEK_BASESIZE + sizeof(const SV *), char
             );
     1120                      ^
     1121    
  >> 1122    hv.c(2719): error: type name is not allowed
     1123                      Newxz(k, HEK_BASESIZE + sizeof(const SV *), char
             );
     1124                      ^
     1125    
  >> 1126    hv.c(2719): error: type name is not allowed
     1127                      Newxz(k, HEK_BASESIZE + sizeof(const SV *), char
             );
     1128                      ^
     1129    
  >> 1130    hv.c(2970): error: expected an expression
     1131                                        - STRUCT_OFFSET(struct shared_
             he,
     1132                                          ^
     1133    
  >> 1134    hv.c(2970): error: identifier "shared_he_hek" is undefined
     1135                                        - STRUCT_OFFSET(struct shared_
             he,
     1136                                          ^
     1137    
  >> 1138    hv.c(3130): error: expected an expression
     1139              Newx(k, STRUCT_OFFSET(struct shared_he,
     1140              ^
     1141    
  >> 1142    hv.c(3130): error: identifier "shared_he_hek" is undefined
     1143              Newx(k, STRUCT_OFFSET(struct shared_he,
     1144              ^
     1145    
  >> 1146    hv.c(3130): error: expected an expression
     1147              Newx(k, STRUCT_OFFSET(struct shared_he,
     1148              ^
     1149    
  >> 1150    hv.c(3130): error: expected an expression
     1151              Newx(k, STRUCT_OFFSET(struct shared_he,
     1152              ^
     1153    
  >> 1154    hv.c(3130): error: expected an expression
     1155              Newx(k, STRUCT_OFFSET(struct shared_he,
     1156              ^
     1157    
     1158    make: *** [makefile:312: perlmini.o] Error 2
  >> 1159    hv.c(3487): error: expected an expression
     1160              hash = SvSHARED_HASH(key);
     1161                     ^
     1162    
  >> 1163    hv.c(3487): error: identifier "hek_key" is undefined
     1164              hash = SvSHARED_HASH(key);
     1165                     ^
     1166    
  >> 1167    hv.c(3674): error: expected an expression
     1168              hash = SvSHARED_HASH(key);
     1169                     ^
     1170    
  >> 1171    hv.c(3674): error: identifier "hek_key" is undefined
     1172              hash = SvSHARED_HASH(key);
     1173                     ^
     1174    
  >> 1175    pad.c(329): error: type name is not allowed
     1176                  if (CvSLABBED(&cvbody)) OpslabREFCNT_dec_padok(OpSLA
             B(CvROOT(&cvbody)));
     1177                                          ^
     1178    
  >> 1179    pad.c(329): error: identifier "opslot_op" is undefined
     1180                  if (CvSLABBED(&cvbody)) OpslabREFCNT_dec_padok(OpSLA
             B(CvROOT(&cvbody)));
     1181                                          ^
     1182    
     1183    compilation aborted for gv.c (code 2)
  >> 1184    pad.c(329): error: type name is not allowed
     1185                  if (CvSLABBED(&cvbody)) OpslabREFCNT_dec_padok(OpSLA
             B(CvROOT(&cvbody)));
     1186                                          ^
     1187    
  >> 1188    pad.c(329): error: expected an expression
     1189                  if (CvSLABBED(&cvbody)) OpslabREFCNT_dec_padok(OpSLA
             B(CvROOT(&cvbody)));
     1190                                          ^
     1191    
  >> 1192    pad.c(329): error: identifier "opslab_slots" is undefined
     1193                  if (CvSLABBED(&cvbody)) OpslabREFCNT_dec_padok(OpSLA
             B(CvROOT(&cvbody)));
     1194                                          ^
     1195    
  >> 1196    pad.c(329): error: type name is not allowed
     1197                  if (CvSLABBED(&cvbody)) OpslabREFCNT_dec_padok(OpSLA
             B(CvROOT(&cvbody)));
     1198                                          ^
     1199    
  >> 1200    pad.c(329): error: type name is not allowed
     1201                  if (CvSLABBED(&cvbody)) OpslabREFCNT_dec_padok(OpSLA
             B(CvROOT(&cvbody)));
     1202                                          ^
     1203    
  >> 1204    pad.c(329): error: expected an expression
     1205                  if (CvSLABBED(&cvbody)) OpslabREFCNT_dec_padok(OpSLA
             B(CvROOT(&cvbody)));
     1206                                          ^
     1207    
  >> 1208    pad.c(329): error: type name is not allowed
     1209                  if (CvSLABBED(&cvbody)) OpslabREFCNT_dec_padok(OpSLA
             B(CvROOT(&cvbody)));
     1210                                          ^
     1211    
  >> 1212    pad.c(329): error: type name is not allowed
     1213                  if (CvSLABBED(&cvbody)) OpslabREFCNT_dec_padok(OpSLA
             B(CvROOT(&cvbody)));
     1214                                          ^
     1215    
  >> 1216    pad.c(329): error: expected an expression
     1217                  if (CvSLABBED(&cvbody)) OpslabREFCNT_dec_padok(OpSLA
             B(CvROOT(&cvbody)));
     1218                                          ^
     1219    
     1220    compilation aborted for hv.c (code 2)
  >> 1221    op.c(235): error: type name is not allowed
     1222          size_t sz_bytes = OpSLABSizeBytes(sz);
     1223                            ^
     1224    
  >> 1225    op.c(235): error: identifier "opslab_slots" is undefined
     1226          size_t sz_bytes = OpSLABSizeBytes(sz);
     1227                            ^
     1228    
     1229    make: *** [makefile:251: gv.o] Error 2
  >> 1230    op.c(275): error: type name is not allowed
     1231          U16 sz = OpSLOT(o)->opslot_size;
     1232                   ^
     1233    
  >> 1234    op.c(275): error: identifier "opslot_op" is undefined
     1235          U16 sz = OpSLOT(o)->opslot_size;
     1236                   ^
     1237    
     1238    compilation aborted for mro_core.c (code 2)
  >> 1239    op.c(351): error: type name is not allowed
     1240          sz_in_p = SIZE_TO_PSIZE(sz + OPSLOT_HEADER);
     1241                    ^
     1242    
     1243    make: *** [makefile:251: hv.o] Error 2
  >> 1244    pad.c(503): error: type name is not allowed
     1245          if      (CvROOT(cv))  slab = OpSLAB(CvROOT(cv));
     1246                                       ^
     1247    
  >> 1248    pad.c(503): error: identifier "opslot_op" is undefined
     1249          if      (CvROOT(cv))  slab = OpSLAB(CvROOT(cv));
     1250                                       ^
     1251    
  >> 1252    pad.c(503): error: type name is not allowed
     1253          if      (CvROOT(cv))  slab = OpSLAB(CvROOT(cv));
     1254                                       ^
     1255    
  >> 1256    op.c(351): error: identifier "opslot_op" is undefined
     1257          sz_in_p = SIZE_TO_PSIZE(sz + OPSLOT_HEADER);
     1258                    ^
     1259    
  >> 1260    op.c(509): error: type name is not allowed
     1261          slab = OpSLAB(o);
     1262                 ^
     1263    
  >> 1264    op.c(509): error: identifier "opslot_op" is undefined
     1265          slab = OpSLAB(o);
     1266                 ^
     1267    
  >> 1268    op.c(509): error: type name is not allowed
     1269          slab = OpSLAB(o);
     1270                 ^
     1271    
  >> 1272    op.c(509): error: expected an expression
     1273          slab = OpSLAB(o);
     1274                 ^
     1275    
  >> 1276    op.c(509): error: identifier "opslab_slots" is undefined
     1277          slab = OpSLAB(o);
     1278                 ^
     1279    
  >> 1280    pad.c(503): error: expected an expression
     1281          if      (CvROOT(cv))  slab = OpSLAB(CvROOT(cv));
     1282                                       ^
     1283    
  >> 1284    pad.c(503): error: identifier "opslab_slots" is undefined
     1285          if      (CvROOT(cv))  slab = OpSLAB(CvROOT(cv));
     1286                                       ^
     1287    
  >> 1288    pad.c(613): error: identifier "__INT_MAX__" is undefined
     1289          COP_SEQ_RANGE_LOW_set(name, PERL_PADSEQ_INTRO);
     1290          ^
     1291    
     1292    make: *** [makefile:251: mro_core.o] Error 2
  >> 1293    pad.c(875): error: identifier "__INT_MAX__" is undefined
     1294                  && (   COP_SEQ_RANGE_LOW(sv)  == PERL_PADSEQ_INTRO
     1295                                                   ^
     1296    
  >> 1297    pad.c(903): error: identifier "__INT_MAX__" is undefined
     1298                      && (   COP_SEQ_RANGE_LOW(sv)  == PERL_PADSEQ_INT
             RO
     1299                                                       ^
     1300    
  >> 1301    pad.c(979): error: identifier "__INT_MAX__" is undefined
     1302                  && COP_SEQ_RANGE_LOW(name) == PERL_PADSEQ_INTRO
     1303                                                ^
     1304    
  >> 1305    pad.c(1451): error: identifier "__INT_MAX__" is undefined
     1306                  && COP_SEQ_RANGE_LOW(sv) == PERL_PADSEQ_INTRO)
     1307                                              ^
     1308    
  >> 1309    pad.c(1463): error: identifier "__INT_MAX__" is undefined
     1310          COP_SEQMAX_INC;
     1311          ^
     1312    
  >> 1313    pad.c(1505): error: identifier "__INT_MAX__" is undefined
     1314                  && COP_SEQ_RANGE_HIGH(sv) == PERL_PADSEQ_INTRO)
     1315                                               ^
     1316    
  >> 1317    pad.c(1522): error: identifier "__INT_MAX__" is undefined
     1318          COP_SEQMAX_INC;
     1319          ^
     1320    
  >> 1321    pad.c(2201): error: expected an expression
     1322               CvNAME_HEK_set(cv, share_hek_hek(CvNAME_HEK(proto)));
     1323               ^
     1324    
  >> 1325    pad.c(2201): error: identifier "shared_he_hek" is undefined
     1326               CvNAME_HEK_set(cv, share_hek_hek(CvNAME_HEK(proto)));
     1327               ^
     1328    
  >> 1329    pad.c(2731): error: expected an expression
     1330          Newxz(alloc2,
     1331          ^
     1332    
  >> 1333    pad.c(2731): error: identifier "xpadn_str" is undefined
     1334          Newxz(alloc2,
     1335          ^
     1336    
  >> 1337    pad.c(2731): error: expected an expression
     1338          Newxz(alloc2,
     1339          ^
     1340    
  >> 1341    pad.c(2731): error: expected an expression
     1342          Newxz(alloc2,
     1343          ^
     1344    
  >> 1345    pad.c(2731): error: expected an expression
     1346          Newxz(alloc2,
     1347          ^
     1348    
  >> 1349    pad.c(2767): error: expected an expression
     1350          PadnameREFCNT(PADNAME_FROM_PV(PadnamePV(outer)))++;
     1351          ^
     1352    
  >> 1353    pad.c(2767): error: identifier "xpadn_str" is undefined
     1354          PadnameREFCNT(PADNAME_FROM_PV(PadnamePV(outer)))++;
     1355          ^
     1356    
  >> 1357    pad.c(2785): error: expected an expression
     1358                  PadnameREFCNT_dec(PADNAME_FROM_PV(PadnamePV(pn)));
     1359                  ^
     1360    
  >> 1361    pad.c(2785): error: identifier "xpadn_str" is undefined
     1362                  PadnameREFCNT_dec(PADNAME_FROM_PV(PadnamePV(pn)));
     1363                  ^
     1364    
  >> 1365    pad.c(2819): error: expected an expression
     1366           ? newPADNAMEouter(padname_dup(PADNAME_FROM_PV(PadnamePV(src
             )), param))
     1367                             ^
     1368    
  >> 1369    pad.c(2819): error: identifier "xpadn_str" is undefined
     1370           ? newPADNAMEouter(padname_dup(PADNAME_FROM_PV(PadnamePV(src
             )), param))
     1371                             ^
     1372    
  >> 1373    op.c(3077): error: function call is not allowed in a constant expr
             ession
     1374          STATIC_ASSERT_STMT(   STRUCT_OFFSET(BINOP,    op_last)
     1375          ^
     1376    
  >> 1377    op.c(3077): error: type name is not allowed
     1378          STATIC_ASSERT_STMT(   STRUCT_OFFSET(BINOP,    op_last)
     1379          ^
     1380    
  >> 1381    op.c(3077): error: identifier "op_last" is undefined
     1382          STATIC_ASSERT_STMT(   STRUCT_OFFSET(BINOP,    op_last)
     1383          ^
     1384    
  >> 1385    op.c(3077): error: function call is not allowed in a constant expr
             ession
     1386          STATIC_ASSERT_STMT(   STRUCT_OFFSET(BINOP,    op_last)
     1387          ^
     1388    
  >> 1389    op.c(3077): error: type name is not allowed
     1390          STATIC_ASSERT_STMT(   STRUCT_OFFSET(BINOP,    op_last)
     1391          ^
     1392    
  >> 1393    op.c(3077): error: identifier "op_aux" is undefined
     1394          STATIC_ASSERT_STMT(   STRUCT_OFFSET(BINOP,    op_last)
     1395          ^
     1396    
  >> 1397    op.c(3079): error: function call is not allowed in a constant expr
             ession
     1398          STATIC_ASSERT_STMT(   STRUCT_OFFSET(LISTOP,   op_last)
     1399          ^
     1400    
  >> 1401    op.c(3079): error: type name is not allowed
     1402          STATIC_ASSERT_STMT(   STRUCT_OFFSET(LISTOP,   op_last)
     1403          ^
     1404    
  >> 1405    op.c(3079): error: identifier "op_last" is undefined
     1406          STATIC_ASSERT_STMT(   STRUCT_OFFSET(LISTOP,   op_last)
     1407          ^
     1408    
  >> 1409    op.c(3079): error: function call is not allowed in a constant expr
             ession
     1410          STATIC_ASSERT_STMT(   STRUCT_OFFSET(LISTOP,   op_last)
     1411          ^
     1412    
  >> 1413    op.c(3079): error: type name is not allowed
     1414          STATIC_ASSERT_STMT(   STRUCT_OFFSET(LISTOP,   op_last)
     1415          ^
     1416    
  >> 1417    op.c(3079): error: identifier "op_aux" is undefined
     1418          STATIC_ASSERT_STMT(   STRUCT_OFFSET(LISTOP,   op_last)
     1419          ^
     1420    
  >> 1421    pp_hot.c(4839): error: type name is not allowed
     1422                              SET_SVANY_FOR_BODYLESS_IV(newsv);
     1423                              ^
     1424    
  >> 1425    pp_hot.c(4839): error: identifier "xiv_u" is undefined
     1426                              SET_SVANY_FOR_BODYLESS_IV(newsv);
     1427                              ^
     1428    
  >> 1429    op.c(4159): error: identifier "__INT_MAX__" is undefined
     1430                  PAD_COMPNAME_GEN_set(o->op_targ, PERL_INT_MAX);
     1431                  ^
     1432    
     1433    compilation aborted for pad.c (code 2)
  >> 1434    op.c(4312): error: identifier "__INT_MAX__" is undefined
     1435      	    PL_modcount = RETURN_UNLIMITED_NUMBER;
     1436      	                  ^
     1437    
  >> 1438    op.c(4429): error: identifier "__INT_MAX__" is undefined
     1439      		if (PL_modcount != RETURN_UNLIMITED_NUMBER)
     1440      		                   ^
     1441    
  >> 1442    op.c(4434): error: identifier "__INT_MAX__" is undefined
     1443      		PL_modcount = RETURN_UNLIMITED_NUMBER;
     1444      		              ^
     1445    
  >> 1446    op.c(4446): error: identifier "__INT_MAX__" is undefined
     1447                 PL_modcount = RETURN_UNLIMITED_NUMBER;
     1448                               ^
     1449    
  >> 1450    op.c(4472): error: identifier "__INT_MAX__" is undefined
     1451             PL_modcount = RETURN_UNLIMITED_NUMBER;
     1452                           ^
     1453    
     1454    make: *** [makefile:251: pad.o] Error 2
  >> 1455    op.c(5693): error: identifier "__INT_MAX__" is undefined
     1456          COP_SEQMAX_INC;
     1457          ^
     1458    
     1459    compilation aborted for pp_hot.c (code 2)
     1460    make: *** [makefile:251: pp_hot.o] Error 2
  >> 1461    op.c(8890): error: identifier "__INT_MAX__" is undefined
     1462          COP_SEQMAX_INC; /* Purely for B::*'s benefit */
     1463          ^
     1464    
  >> 1465    op.c(9337): error: identifier "__INT_MAX__" is undefined
     1466                  else if (PL_modcount < RETURN_UNLIMITED_NUMBER &&
     1467                                         ^
     1468    
  >> 1469    op.c(10224): error: identifier "__INT_MAX__" is undefined
     1470      	    PAD_COMPNAME_GEN_set(padoff, PERL_INT_MAX);
     1471      	    ^
     1472    
  >> 1473    op.c(10291): error: type name is not allowed
     1474              &&    OpSLOT(loop)->opslot_size
     1475                    ^
     1476    
  >> 1477    op.c(10291): error: identifier "opslot_op" is undefined
     1478              &&    OpSLOT(loop)->opslot_size
     1479                    ^
     1480    
  >> 1481    op.c(10292): error: type name is not allowed
     1482                  < SIZE_TO_PSIZE(sizeof(LOOP) + OPSLOT_HEADER))
     1483                    ^
     1484    
  >> 1485    op.c(11069): error: expected an expression
     1486      	if (hek) (void)share_hek_hek(hek);
     1487      	               ^
     1488    
  >> 1489    op.c(11069): error: identifier "shared_he_hek" is undefined
     1490      	if (hek) (void)share_hek_hek(hek);
     1491      	               ^
     1492    
  >> 1493    op.c(13841): error: identifier "__INT_MAX__" is undefined
     1494      	PAD_COMPNAME_GEN_set(o->op_targ, PERL_INT_MAX);
     1495      	^
     1496    
     1497    compilation aborted for toke.c (code 2)
     1498    make: *** [makefile:250: toke.o] Error 2
  >> 1499    op.c(15701): error: identifier "__INT_MAX__" is undefined
     1500          if (PAD_COMPNAME_GEN(o->op_targ) == PERL_INT_MAX)
     1501                                              ^
     1502    
     1503    compilation aborted for opmini.c (code 2)
     1504    make: *** [makefile:304: opmini.o] Error 2
  >> 1505    regcomp.c(12688): error: identifier "__INT_MAX__" is undefined
     1506          STATIC_ASSERT_DECL(REG_INFTY <= U32_MAX);
     1507          ^
     1508    
  >> 1509    regcomp.c(21850): error: type name is not allowed
     1510      	   sizeof(regexp) - STRUCT_OFFSET(regexp, xpv_cur));
     1511      	                    ^
     1512    
  >> 1513    regcomp.c(21850): error: identifier "xpv_cur" is undefined
     1514      	   sizeof(regexp) - STRUCT_OFFSET(regexp, xpv_cur));
     1515      	                    ^
     1516    
     1517    compilation aborted for regcomp.c (code 2)
     1518    make: *** [makefile:250: regcomp.o] Error 2

See build log for details:
  /tmp/mkandes/spack-stage/spack-stage-perl-5.34.0-hmc7x3omgxdg42o5bwyjuysmniutewvr/spack-build-out.txt

==> Error: Terminating after first install failure: ProcessError: Command exited with status 2:
    'make' '-j16'
real 323.63
user 258.10
sys 125.15
ERROR: spack install failed.
