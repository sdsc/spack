1650456250 11639414 840f73c41e14078594a22cab0623e1d2  /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/etc/spack/sdsc/expanse/0.17.1/cpu/specs/intel@19.1.3.304/netcdf-cxx4@4.3.1.sh 

#!/usr/bin/env bash

#SBATCH --job-name=netcdf-cxx4@4.3.1
#SBATCH --account=use300
#SBATCH --partition=shared
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=1
#SBATCH --cpus-per-task=16
#SBATCH --mem=32G
#SBATCH --time=00:30:00
#SBATCH --output=%x.o%j.%N

declare -xr LOCAL_TIME="$(date +'%Y%m%dT%H%M%S%z')"
declare -xir UNIX_TIME="$(date +'%s')"

declare -xr SYSTEM_NAME='expanse'

declare -xr SPACK_VERSION='0.17.1'
declare -xr SPACK_INSTANCE_NAME='cpu'
declare -xr SPACK_INSTANCE_DIR="${HOME}/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}"

declare -xr SLURM_JOB_SCRIPT="$(scontrol show job ${SLURM_JOB_ID} | awk -F= '/Command=/{print $2}')"
declare -xr SLURM_JOB_MD5SUM="$(md5sum ${SLURM_JOB_SCRIPT})"

declare -xr SCHEDULER_MODULE='slurm/expanse/current'

echo "${UNIX_TIME} ${SLURM_JOB_ID} ${SLURM_JOB_MD5SUM} ${SLURM_JOB_DEPENDENCY}" 
echo ""

cat "${SLURM_JOB_SCRIPT}"

module purge
module load "${SCHEDULER_MODULE}"
module list
. "${SPACK_INSTANCE_DIR}/share/spack/setup-env.sh"

declare -xr INTEL_LICENSE_FILE='40000@elprado.sdsc.edu:40200@elprado.sdsc.edu'
declare -xr SPACK_PACKAGE='netcdf-cxx4@4.3.1'
declare -xr SPACK_COMPILER='intel@19.1.3.304'
declare -xr SPACK_VARIANTS='~doxygen +pic +shared +static' 
declare -xr SPACK_DEPENDENCIES="^netcdf-c@4.8.1/$(spack find --format '{hash:7}' netcdf-c@4.8.1 % ${SPACK_COMPILER} ~mpi)"
declare -xr SPACK_SPEC="${SPACK_PACKAGE} % ${SPACK_COMPILER} ${SPACK_VARIANTS} ${SPACK_DEPENDENCIES}"

printenv

spack config get compilers  
spack config get config  
spack config get mirrors
spack config get modules
spack config get packages
spack config get repos
spack config get upstreams

spack spec --long --namespaces --types "${SPACK_SPEC}"
if [[ "${?}" -ne 0 ]]; then
  echo 'ERROR: spack concretization failed.'
  exit 1
fi

time -p spack install --jobs "${SLURM_CPUS_PER_TASK}" --fail-fast --yes-to-all "${SPACK_SPEC}"
if [[ "${?}" -ne 0 ]]; then
  echo 'ERROR: spack install failed.'
  exit 1
fi

spack module lmod refresh --delete-tree -y

sbatch --dependency="afterok:${SLURM_JOB_ID}" 'netcdf-fortran@4.5.3.sh'

sleep 60

Currently Loaded Modules:
  1) slurm/expanse/current

 

LD_LIBRARY_PATH=/cm/shared/apps/slurm/current/lib64/slurm:/cm/shared/apps/slurm/current/lib64
LS_COLORS=rs=0:di=38;5;33:ln=38;5;51:mh=00:pi=40;38;5;11:so=38;5;13:do=38;5;5:bd=48;5;232;38;5;11:cd=48;5;232;38;5;3:or=48;5;232;38;5;9:mi=01;05;37;41:su=48;5;196;38;5;15:sg=48;5;11;38;5;16:ca=48;5;196;38;5;226:tw=48;5;10;38;5;16:ow=48;5;10;38;5;21:st=48;5;21;38;5;15:ex=38;5;40:*.tar=38;5;9:*.tgz=38;5;9:*.arc=38;5;9:*.arj=38;5;9:*.taz=38;5;9:*.lha=38;5;9:*.lz4=38;5;9:*.lzh=38;5;9:*.lzma=38;5;9:*.tlz=38;5;9:*.txz=38;5;9:*.tzo=38;5;9:*.t7z=38;5;9:*.zip=38;5;9:*.z=38;5;9:*.dz=38;5;9:*.gz=38;5;9:*.lrz=38;5;9:*.lz=38;5;9:*.lzo=38;5;9:*.xz=38;5;9:*.zst=38;5;9:*.tzst=38;5;9:*.bz2=38;5;9:*.bz=38;5;9:*.tbz=38;5;9:*.tbz2=38;5;9:*.tz=38;5;9:*.deb=38;5;9:*.rpm=38;5;9:*.jar=38;5;9:*.war=38;5;9:*.ear=38;5;9:*.sar=38;5;9:*.rar=38;5;9:*.alz=38;5;9:*.ace=38;5;9:*.zoo=38;5;9:*.cpio=38;5;9:*.7z=38;5;9:*.rz=38;5;9:*.cab=38;5;9:*.wim=38;5;9:*.swm=38;5;9:*.dwm=38;5;9:*.esd=38;5;9:*.jpg=38;5;13:*.jpeg=38;5;13:*.mjpg=38;5;13:*.mjpeg=38;5;13:*.gif=38;5;13:*.bmp=38;5;13:*.pbm=38;5;13:*.pgm=38;5;13:*.ppm=38;5;13:*.tga=38;5;13:*.xbm=38;5;13:*.xpm=38;5;13:*.tif=38;5;13:*.tiff=38;5;13:*.png=38;5;13:*.svg=38;5;13:*.svgz=38;5;13:*.mng=38;5;13:*.pcx=38;5;13:*.mov=38;5;13:*.mpg=38;5;13:*.mpeg=38;5;13:*.m2v=38;5;13:*.mkv=38;5;13:*.webm=38;5;13:*.ogm=38;5;13:*.mp4=38;5;13:*.m4v=38;5;13:*.mp4v=38;5;13:*.vob=38;5;13:*.qt=38;5;13:*.nuv=38;5;13:*.wmv=38;5;13:*.asf=38;5;13:*.rm=38;5;13:*.rmvb=38;5;13:*.flc=38;5;13:*.avi=38;5;13:*.fli=38;5;13:*.flv=38;5;13:*.gl=38;5;13:*.dl=38;5;13:*.xcf=38;5;13:*.xwd=38;5;13:*.yuv=38;5;13:*.cgm=38;5;13:*.emf=38;5;13:*.ogv=38;5;13:*.ogx=38;5;13:*.aac=38;5;45:*.au=38;5;45:*.flac=38;5;45:*.m4a=38;5;45:*.mid=38;5;45:*.midi=38;5;45:*.mka=38;5;45:*.mp3=38;5;45:*.mpc=38;5;45:*.ogg=38;5;45:*.ra=38;5;45:*.wav=38;5;45:*.oga=38;5;45:*.opus=38;5;45:*.spx=38;5;45:*.xspf=38;5;45:
SLURM_NODEID=0
SLURM_TASK_PID=1264391
__LMOD_REF_COUNT_PATH=/cm/shared/apps/slurm/current/sbin:1;/cm/shared/apps/slurm/current/bin:1;/cm/shared/apps/sdsc/galyleo:1;/home/mkandes/.local/bin:1;/home/mkandes/bin:1;/usr/local/bin:1;/usr/bin:1;/usr/local/sbin:1;/usr/sbin:1
_ModuleTable002_=ZXMiLCIvdXNyL3NoYXJlL21vZHVsZWZpbGVzIiwiL3Vzci9zaGFyZS9Nb2R1bGVzL21vZHVsZWZpbGVzIiwiL2NtL3NoYXJlZC9tb2R1bGVmaWxlcyIsfSxbInN5c3RlbUJhc2VNUEFUSCJdPSIvY20vbG9jYWwvbW9kdWxlZmlsZXM6L2NtL3NoYXJlZC9hcHBzL3hzZWRlL21vZHVsZWZpbGVzOi9jbS9zaGFyZWQvbW9kdWxlZmlsZXM6L2V0Yy9tb2R1bGVmaWxlczovdXNyL3NoYXJlL21vZHVsZWZpbGVzOi91c3Ivc2hhcmUvTW9kdWxlcy9tb2R1bGVmaWxlcyIsfQ==
SSH_CONNECTION=24.233.173.28 57328 198.202.100.14 22
SPACK_PYTHON=/usr/bin/python3
SLURM_PRIO_PROCESS=0
LANG=en_US.UTF-8
SLURM_SUBMIT_DIR=/home/mkandes/cm/shared/apps/spack/0.17.1/cpu/etc/spack/sdsc/expanse/0.17.1/cpu/specs/intel@19.1.3.304
HISTCONTROL=ignoredups
HOSTNAME=exp-1-46
LMOD_SYSTEM_DEFAULT_MODULES=DefaultModules
OLDPWD=/home/mkandes/cm/shared/apps/spack/0.17.1/cpu/etc/spack/sdsc/expanse/0.17.1/cpu/specs/gcc@10.2.0
__LMOD_REF_COUNT__LMFILES_=/cm/local/modulefiles/slurm/expanse/current:1
SLURM_CPUS_PER_TASK=16
SPACK_DEPENDENCIES=^netcdf-c@4.8.1/2yjohmo
ENVIRONMENT=BATCH
SPACK_VERSION=0.17.1
SLURM_PROCID=0
SLURM_JOB_GID=300
SPACK_VARIANTS=~doxygen +pic +shared +static
SPACK_INSTANCE_DIR=/home/mkandes/cm/shared/apps/spack/0.17.1/cpu
__LMOD_REF_COUNT_LD_LIBRARY_PATH=/cm/shared/apps/slurm/current/lib64/slurm:1;/cm/shared/apps/slurm/current/lib64:1
SLURM_JOB_SCRIPT=/home/mkandes/cm/shared/apps/spack/0.17.1/cpu/etc/spack/sdsc/expanse/0.17.1/cpu/specs/intel@19.1.3.304/netcdf-cxx4@4.3.1.sh
SLURMD_NODENAME=exp-1-46
SLURM_TASKS_PER_NODE=1
S_COLORS=auto
which_declare=declare -f
SPACK_COMPILER=intel@19.1.3.304
XDG_SESSION_ID=736203
SLURM_NNODES=1
USER=mkandes
SLURM_NTASKS_PER_NODE=1
__LMOD_REF_COUNT_MODULEPATH=/cm/local/modulefiles:1;/cm/shared/apps/xsede/modulefiles:1;/etc/modulefiles:1;/usr/share/modulefiles:1;/usr/share/Modules/modulefiles:1;/cm/shared/modulefiles:1
__LMOD_REF_COUNT_LOADEDMODULES=slurm/expanse/current:1
PWD=/home/mkandes/cm/shared/apps/spack/0.17.1/cpu/etc/spack/sdsc/expanse/0.17.1/cpu/specs/intel@19.1.3.304
ENABLE_LMOD=1
SLURM_JOB_NODELIST=exp-1-46
HOME=/home/mkandes
SLURM_CLUSTER_NAME=expanse
LMOD_COLORIZE=yes
LOCAL_TIME=20220420T050410-0700
SLURM_NODELIST=exp-1-46
SSH_CLIENT=24.233.173.28 57328 22
LMOD_VERSION=8.2.4
CPATH=/cm/shared/apps/slurm/current/include
SLURM_NTASKS=1
LMOD_SETTARG_CMD=:
SLURM_JOB_CPUS_PER_NODE=16
BASH_ENV=/usr/share/lmod/lmod/init/bash
SLURM_TOPOLOGY_ADDR=exp-1-46
SLURM_WORKING_CLUSTER=expanse:mgr1:6817:8960:109
SLURM_JOB_MD5SUM=840f73c41e14078594a22cab0623e1d2  /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/etc/spack/sdsc/expanse/0.17.1/cpu/specs/intel@19.1.3.304/netcdf-cxx4@4.3.1.sh
SPACK_PACKAGE=netcdf-cxx4@4.3.1
__LMOD_REF_COUNT_LIBRARY_PATH=/cm/shared/apps/slurm/current/lib64/slurm:1;/cm/shared/apps/slurm/current/lib64:1
SLURM_JOB_NAME=netcdf-cxx4@4.3.1
TMPDIR=/tmp
LIBRARY_PATH=/cm/shared/apps/slurm/current/lib64/slurm:/cm/shared/apps/slurm/current/lib64
LMOD_sys=Linux
SLURM_JOBID=11639414
SYSTEM_NAME=expanse
_ModuleTable001_=X01vZHVsZVRhYmxlXz17WyJNVHZlcnNpb24iXT0zLFsiY19yZWJ1aWxkVGltZSJdPWZhbHNlLFsiY19zaG9ydFRpbWUiXT1mYWxzZSxkZXB0aFQ9e30sZmFtaWx5PXt9LG1UPXtzbHVybT17WyJmbiJdPSIvY20vbG9jYWwvbW9kdWxlZmlsZXMvc2x1cm0vZXhwYW5zZS9jdXJyZW50IixbImZ1bGxOYW1lIl09InNsdXJtL2V4cGFuc2UvY3VycmVudCIsWyJsb2FkT3JkZXIiXT0xLHByb3BUPXt9LFsic3RhY2tEZXB0aCJdPTAsWyJzdGF0dXMiXT0iYWN0aXZlIixbInVzZXJOYW1lIl09InNsdXJtL2V4cGFuc2UvY3VycmVudCIsfSx9LG1wYXRoQT17Ii9jbS9sb2NhbC9tb2R1bGVmaWxlcyIsIi9jbS9zaGFyZWQvYXBwcy94c2VkZS9tb2R1bGVmaWxlcyIsIi9ldGMvbW9kdWxlZmls
SLURM_CONF=/cm/shared/apps/slurm/var/etc/expanse/slurm.conf
LOADEDMODULES=slurm/expanse/current
__LMOD_REF_COUNT_MANPATH=/cm/shared/apps/slurm/current/man:2;/usr/share/lmod/lmod/share/man:1;/usr/local/share/man:1;/usr/share/man:1;/cm/local/apps/environment-modules/current/share/man:1
_ModuleTable003_=dXNlck5hbWUiXT0ic2x1cm0iLH0sfSxtcGF0aEE9eyIvY20vc2hhcmVkL2FwcHMvc3BhY2svY3B1L2xtb2QvbGludXgtY2VudG9zOC14ODZfNjQvQ29yZSIsIi9jbS9sb2NhbC9tb2R1bGVmaWxlcyIsIi9jbS9zaGFyZWQvYXBwcy94c2VkZS9tb2R1bGVmaWxlcyIsIi9ldGMvbW9kdWxlZmlsZXMiLCIvdXNyL3NoYXJlL21vZHVsZWZpbGVzIiwiL3Vzci9zaGFyZS9Nb2R1bGVzL21vZHVsZWZpbGVzIiwiL2NtL3NoYXJlZC9tb2R1bGVmaWxlcyIsfSxbInN5c3RlbUJhc2VNUEFUSCJdPSIvY20vbG9jYWwvbW9kdWxlZmlsZXM6L2NtL3NoYXJlZC9hcHBzL3hzZWRlL21vZHVsZWZpbGVzOi9jbS9zaGFyZWQvbW9kdWxlZmlsZXM6L2V0Yy9tb2R1bGVmaWxlczovdXNyL3NoYXJlL21v
INTEL_LICENSE_FILE=40000@elprado.sdsc.edu:40200@elprado.sdsc.edu
SLURM_NODE_ALIASES=(null)
SLURM_JOB_QOS=shared-normal
LMOD_ROOT=/usr/share/lmod
SLURM_TOPOLOGY_ADDR_PATTERN=node
SSH_TTY=/dev/pts/243
MAIL=/var/spool/mail/mkandes
SLURM_CPUS_ON_NODE=16
LMOD_arch=x86_64
SLURM_JOB_NUM_NODES=1
__Init_Default_Modules=1
CMD_WLM_CLUSTER_NAME=expanse
SLURM_MEM_PER_NODE=32768
SPACK_ROOT=/home/mkandes/cm/shared/apps/spack/0.17.1/cpu
SHELL=/bin/bash
TERM=xterm-256color
SLURM_JOB_UID=501506
_ModuleTable_Sz_=2
__LMOD_REF_COUNT_CPATH=/cm/shared/apps/slurm/current/include:1
SLURM_JOB_PARTITION=shared
SPACK_INSTANCE_NAME=cpu
SLURM_JOB_USER=mkandes
SLURM_NPROCS=1
SHLVL=2
SLURM_SUBMIT_HOST=login02
UNIX_TIME=1650456250
SLURM_JOB_ACCOUNT=use300
MANPATH=/cm/shared/apps/slurm/current/man:/usr/share/lmod/lmod/share/man::/usr/local/share/man:/usr/share/man:/cm/local/apps/environment-modules/current/share/man
LMOD_PREPEND_BLOCK=normal
MODULEPATH=/cm/local/modulefiles:/cm/shared/apps/xsede/modulefiles:/etc/modulefiles:/usr/share/modulefiles:/usr/share/Modules/modulefiles:/cm/shared/modulefiles
SLURM_GTIDS=0
LOGNAME=mkandes
DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/501506/bus
XDG_RUNTIME_DIR=/run/user/501506
MODULEPATH_ROOT=/usr/share/modulefiles
PATH=/home/mkandes/cm/shared/apps/spack/0.17.1/cpu/bin:/cm/shared/apps/slurm/current/sbin:/cm/shared/apps/slurm/current/bin:/cm/shared/apps/sdsc/galyleo:/home/mkandes/.local/bin:/home/mkandes/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin
SLURM_JOB_ID=11639414
_LMFILES_=/cm/local/modulefiles/slurm/expanse/current
SCHEDULER_MODULE=slurm/expanse/current
MODULESHOME=/usr/share/lmod/lmod
LMOD_SETTARG_FULL_SUPPORT=no
HISTSIZE=1000
LMOD_PKG=/usr/share/lmod/lmod
SPACK_SPEC=netcdf-cxx4@4.3.1 % intel@19.1.3.304 ~doxygen +pic +shared +static ^netcdf-c@4.8.1/2yjohmo
LMOD_CMD=/usr/share/lmod/lmod/libexec/lmod
SLURM_LOCALID=0
LESSOPEN=||/usr/bin/lesspipe.sh %s
LMOD_FULL_SETTARG_SUPPORT=no
LMOD_DIR=/usr/share/lmod/lmod/libexec
BASH_FUNC_which%%=() {  ( alias;
 eval ${which_declare} ) | /usr/bin/which --tty-only --read-alias --read-functions --show-tilde --show-dot "$@"
}
BASH_FUNC_module%%=() {  eval $($LMOD_CMD bash "$@") && eval $(${LMOD_SETTARG_CMD:-:} -s sh)
}
BASH_FUNC_spack%%=() {  : this is a shell function from: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/share/spack/setup-env.sh;
 : the real spack script is here: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/bin/spack;
 _spack_shell_wrapper "$@";
 return $?
}
BASH_FUNC__spack_shell_wrapper%%=() {  for var in LD_LIBRARY_PATH DYLD_LIBRARY_PATH DYLD_FALLBACK_LIBRARY_PATH;
 do
 eval "if [ -n \"\${${var}-}\" ]; then export SPACK_$var=\${${var}}; fi";
 done;
 if [ -n "${ZSH_VERSION:-}" ]; then
 emulate -L sh;
 fi;
 _sp_flags="";
 while [ ! -z ${1+x} ] && [ "${1#-}" != "${1}" ]; do
 _sp_flags="$_sp_flags $1";
 shift;
 done;
 if [ -n "$_sp_flags" ] && [ "${_sp_flags#*h}" != "${_sp_flags}" ] || [ "${_sp_flags#*V}" != "${_sp_flags}" ]; then
 command spack $_sp_flags "$@";
 return;
 fi;
 _sp_subcommand="";
 if [ ! -z ${1+x} ]; then
 _sp_subcommand="$1";
 shift;
 fi;
 case $_sp_subcommand in 
 "cd")
 _sp_arg="";
 if [ -n "$1" ]; then
 _sp_arg="$1";
 shift;
 fi;
 if [ "$_sp_arg" = "-h" ] || [ "$_sp_arg" = "--help" ]; then
 command spack cd -h;
 else
 LOC="$(spack location $_sp_arg "$@")";
 if [ -d "$LOC" ]; then
 cd "$LOC";
 else
 return 1;
 fi;
 fi;
 return
 ;;
 "env")
 _sp_arg="";
 if [ -n "$1" ]; then
 _sp_arg="$1";
 shift;
 fi;
 if [ "$_sp_arg" = "-h" ] || [ "$_sp_arg" = "--help" ]; then
 command spack env -h;
 else
 case $_sp_arg in 
 activate)
 _a=" $@";
 if [ -z ${1+x} ] || [ "${_a#* --sh}" != "$_a" ] || [ "${_a#* --csh}" != "$_a" ] || [ "${_a#* -h}" != "$_a" ] || [ "${_a#* --help}" != "$_a" ]; then
 command spack env activate "$@";
 else
 stdout="$(command spack $_sp_flags env activate --sh "$@")" || return;
 eval "$stdout";
 fi
 ;;
 deactivate)
 _a=" $@";
 if [ "${_a#* --sh}" != "$_a" ] || [ "${_a#* --csh}" != "$_a" ]; then
 command spack env deactivate "$@";
 else
 if [ -n "$*" ]; then
 command spack env deactivate -h;
 else
 stdout="$(command spack $_sp_flags env deactivate --sh)" || return;
 eval "$stdout";
 fi;
 fi
 ;;
 *)
 command spack env $_sp_arg "$@"
 ;;
 esac;
 fi;
 return
 ;;
 "load" | "unload")
 _a=" $@";
 if [ "${_a#* --sh}" != "$_a" ] || [ "${_a#* --csh}" != "$_a" ] || [ "${_a#* -h}" != "$_a" ] || [ "${_a#* --list}" != "$_a" ] || [ "${_a#* --help}" != "$_a" ]; then
 command spack $_sp_flags $_sp_subcommand "$@";
 else
 stdout="$(command spack $_sp_flags $_sp_subcommand --sh "$@")" || return;
 eval "$stdout";
 fi
 ;;
 *)
 command spack $_sp_flags $_sp_subcommand "$@"
 ;;
 esac
}
BASH_FUNC_ml%%=() {  eval $($LMOD_DIR/ml_cmd "$@")
}
_=/usr/bin/printenv
compilers:
- compiler:
    spec: gcc@8.5.0
    paths:
      cc: /usr/bin/gcc
      cxx: /usr/bin/g++
      f77: /usr/bin/gfortran
      fc: /usr/bin/gfortran
    flags:
      cflags: -O2 -march=native
      cxxflags: -O2 -march=native
      fflags: -O2 -march=native
    operating_system: rocky8
    target: x86_64
    modules: []
    environment: {}
    extra_rpaths: []
- compiler:
    spec: gcc@10.2.0
    paths:
      cc: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen/gcc-8.5.0/gcc-10.2.0-npcyll4gxjhf4tejksmdzlsl3d3usqpd/bin/gcc
      cxx: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen/gcc-8.5.0/gcc-10.2.0-npcyll4gxjhf4tejksmdzlsl3d3usqpd/bin/g++
      f77: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen/gcc-8.5.0/gcc-10.2.0-npcyll4gxjhf4tejksmdzlsl3d3usqpd/bin/gfortran
      fc: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen/gcc-8.5.0/gcc-10.2.0-npcyll4gxjhf4tejksmdzlsl3d3usqpd/bin/gfortran
    flags: {}
    operating_system: rocky8
    target: x86_64
    modules: []
    environment: {}
    extra_rpaths: []
- compiler:
    spec: intel@19.1.3.304
    paths:
      cc: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen/gcc-8.5.0/intel-19.1.3.304-6pv46sozip5o35ezrswc4p77gsiawktn/bin/icc
      cxx: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen/gcc-8.5.0/intel-19.1.3.304-6pv46sozip5o35ezrswc4p77gsiawktn/bin/icpc
      f77: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen/gcc-8.5.0/intel-19.1.3.304-6pv46sozip5o35ezrswc4p77gsiawktn/bin/ifort
      fc: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen/gcc-8.5.0/intel-19.1.3.304-6pv46sozip5o35ezrswc4p77gsiawktn/bin/ifort
    flags: {}
    operating_system: rocky8
    target: x86_64
    modules: []
    environment: {}
    extra_rpaths: []
- compiler:
    spec: intel@19.1.2.254
    paths:
      cc: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen/gcc-8.5.0/intel-19.1.2.254-epsldw5so4mwgx75jiadyc7n567tpmnj/bin/icc
      cxx: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen/gcc-8.5.0/intel-19.1.2.254-epsldw5so4mwgx75jiadyc7n567tpmnj/bin/icpc
      f77: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen/gcc-8.5.0/intel-19.1.2.254-epsldw5so4mwgx75jiadyc7n567tpmnj/bin/ifort
      fc: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen/gcc-8.5.0/intel-19.1.2.254-epsldw5so4mwgx75jiadyc7n567tpmnj/bin/ifort
    flags: {}
    operating_system: rocky8
    target: x86_64
    modules: []
    environment: {}
    extra_rpaths: []
config:
  install_tree:
    root: $spack/opt/spack
    projections:
      all: ${ARCHITECTURE}/${COMPILERNAME}-${COMPILERVER}/${PACKAGE}-${VERSION}-${HASH}
  template_dirs:
  - $spack/share/spack/templates

  # Temporary locations Spack can try to use for builds.
  #
  # Recommended options are given below.
  #
  # Builds can be faster in temporary directories on some (e.g., HPC) systems.
  # Specifying `$tempdir` will ensure use of the default temporary directory
  # (i.e., ``$TMP` or ``$TMPDIR``).
  #
  # Another option that prevents conflicts and potential permission issues is
  # to specify `$user_cache_path/stage`, which ensures each user builds in their
  # home directory.
  #
  # A more traditional path uses the value of `$spack/var/spack/stage`, which
  # builds directly inside Spack's instance without staging them in a
  # temporary space.  Problems with specifying a path inside a Spack instance
  # are that it precludes its use as a system package and its ability to be
  # pip installable.
  #
  # In any case, if the username is not already in the path, Spack will append
  # the value of `$user` in an attempt to avoid potential conflicts between
  # users in shared temporary spaces.
  #
  # The build stage can be purged with `spack clean --stage` and
  # `spack clean -a`, so it is important that the specified directory uniquely
  # identifies Spack staging to avoid accidentally wiping out non-Spack work.
  build_stage:
  - $tempdir/$user/spack-stage
  - $user_cache_path/stage
  # - $spack/var/spack/stage

  # Directory in which to run tests and store test results.
  # Tests will be stored in directories named by date/time and package
  # name/hash.
  test_stage: $user_cache_path/test
  source_cache: $spack/var/spack/cache
  misc_cache: $user_cache_path/cache
  connect_timeout: 10
  verify_ssl: true
  suppress_gpg_warnings: false
  install_missing_compilers: false
  checksum: true
  deprecated: false
  dirty: false
  build_language: C
  locks: true
  url_fetch_method: urllib
  ccache: false
  concretizer: clingo
  db_lock_timeout: 3
  package_lock_timeout: null
  shared_linking: rpath
  allow_sgid: true
  terminal_title: false
  debug: false
  build_jobs: 16
mirrors:
  spack-public: https://mirror.spack.io
modules:
  default:
    'enable:':
    - lmod
    lmod:
      core_compilers:
      - gcc@8.5.0
      hierarchy:
      - mpi
      hash_length: 0
      blacklist_implicits: true
      naming_scheme: '{name}/{version}'
      projections:
        all: '{name}/{version}'
      adol-c:
        suffixes:
          +openmp: omp
      amdblis:
        suffixes:
          threads=openmp: omp
      fftw:
        suffixes:
          +openmp: omp
      hpl:
        suffixes:
          +openmp: omp
      hypre:
        suffixes:
          +openmp: omp
      intel:
        environment:
          set:
            INTEL_LICENSE_FILE: 40000@elprado.sdsc.edu:40200@elprado.sdsc.edu
      kokkos:
        suffixes:
          +openmp: omp
      openblas:
        suffixes:
          threads=openmp: omp
      petsc:
        suffixes:
          +complex: cmplx
      slepc:
        suffixes:
          ^petsc +complex: cmplx
      ^python:
        autoload: direct
  prefix_inspections:
    lib:
    - LD_LIBRARY_PATH
    lib64:
    - LD_LIBRARY_PATH
    bin:
    - PATH
    man:
    - MANPATH
    share/man:
    - MANPATH
    share/aclocal:
    - ACLOCAL_PATH
    lib/pkgconfig:
    - PKG_CONFIG_PATH
    lib64/pkgconfig:
    - PKG_CONFIG_PATH
    share/pkgconfig:
    - PKG_CONFIG_PATH
    ? ''
    : - CMAKE_PREFIX_PATH

  # These are configurations for the module set named "default"
packages:
  lustre:
    externals:
    - spec: lustre@2.12.8 % gcc@10.2.0 arch=linux-rocky8-zen2
      prefix: /usr
    buildable: false
  openssl:
    externals:
    - spec: openssl@1.1.1k % gcc@8.5.0 arch=linux-rocky8-zen
      prefix: /usr
    - spec: openssl@1.1.1k % gcc@10.2.0 arch=linux-rocky8-zen2
      prefix: /usr
    buildable: false
  rdma-core:
    externals:
    - spec: rdma-core@28.0 % gcc@10.2.0 arch=linux-rocky8-zen2
      prefix: /usr
    buildable: false
  slurm:
    externals:
    - spec: slurm@20.02.7 % gcc@10.2.0 arch=linux-rocky8-zen2
      prefix: /cm/shared/apps/slurm/20.02.7
    buildable: false
  librsvg:
    externals:
    - spec: librsvg@2.42.7 % gcc@10.2.0 arch=linux-rocky8-zen2
      prefix: /usr
    buildable: false
  ghostscript:
    externals:
    - spec: ghostscript@9.27 % gcc@10.2.0 arch=linux-rocky8-zen2
      prefix: /usr
    buildable: false
  all:
    compiler: [gcc, intel, pgi, clang, xl, nag, fj, aocc]
    providers:
      awk: [gawk]
      blas: [openblas, amdblis]
      D: [ldc]
      daal: [intel-daal]
      elf: [elfutils]
      fftw-api: [fftw, amdfftw]
      flame: [libflame, amdlibflame]
      fuse: [libfuse]
      gl: [mesa+opengl, mesa18, opengl]
      glu: [mesa-glu, openglu]
      glx: [mesa+glx, mesa18+glx, opengl]
      golang: [gcc]
      iconv: [libiconv]
      ipp: [intel-ipp]
      java: [openjdk, jdk, ibm-java]
      jpeg: [libjpeg-turbo, libjpeg]
      lapack: [openblas, amdlibflame]
      lua-lang: [lua, lua-luajit]
      mariadb-client: [mariadb-c-client, mariadb]
      mkl: [intel-mkl]
      mpe: [mpe2]
      mpi: [openmpi, mpich]
      mysql-client: [mysql, mariadb-c-client]
      opencl: [pocl]
      onedal: [intel-oneapi-dal]
      osmesa: [mesa+osmesa, mesa18+osmesa]
      pbs: [openpbs, torque]
      pil: [py-pillow]
      pkgconfig: [pkgconf, pkg-config]
      rpc: [libtirpc]
      scalapack: [netlib-scalapack, amdscalapack]
      sycl: [hipsycl]
      szip: [libaec, libszip]
      tbb: [intel-tbb]
      unwind: [libunwind]
      uuid: [util-linux-uuid, libuuid]
      xxd: [xxd-standalone, vim]
      yacc: [bison, byacc]
      ziglang: [zig]
    permissions:
      read: world
      write: user
repos:
- $spack/var/spack/repos/sdsc
- $spack/var/spack/repos/builtin
upstreams: {}
Input spec
--------------------------------
[    ]  .netcdf-cxx4@4.3.1%intel@19.1.3.304~doxygen+pic+shared+static
[    ]      ^builtin.netcdf-c@4.8.1%intel@19.1.3.304~dap~fsync~hdf4~jna~mpi~parallel-netcdf+pic+shared arch=linux-rocky8-zen2
[bl  ]          ^builtin.hdf5@1.10.7%intel@19.1.3.304+cxx+fortran+hl~ipo~java~mpi+shared+szip~threadsafe+tools api=default build_type=RelWithDebInfo arch=linux-rocky8-zen2
[bl  ]              ^builtin.libaec@1.0.5%intel@19.1.3.304~ipo build_type=RelWithDebInfo arch=linux-rocky8-zen2
[  r ]              ^builtin.pkgconf@1.8.0%intel@19.1.3.304 arch=linux-rocky8-zen2
[bl  ]              ^builtin.zlib@1.2.11%intel@19.1.3.304+optimize+pic+shared arch=linux-rocky8-zen2

Concretized
--------------------------------
46eah6h  [    ]  builtin.netcdf-cxx4@4.3.1%intel@19.1.3.304~doxygen+pic+shared+static arch=linux-rocky8-zen2
5drzntk  [b   ]      ^builtin.autoconf@2.69%intel@19.1.3.304 patches=35c449281546376449766f92d49fc121ca50e330e60fefcfc9be2af3253082c2,7793209b33013dc0f81208718c68440c5aae80e7a1c4b8d336e382525af791a7,a49dd5bac3b62daa0ff688ab4d508d71dbd2f4f8d7e2a02321926346161bf3ee arch=linux-rocky8-zen2
dibk2oj  [b r ]          ^builtin.m4@1.4.19%intel@19.1.3.304+sigsegv patches=9dc5fbd0d5cb1037ab1e6d0ecc74a30df218d0a94bdd5a02759a97f62daca573,bfdffa7c2eb01021d5849b36972c069693654ad826c1a20b53534009a4ec7a89 arch=linux-rocky8-zen2
spm4df4  [bl  ]              ^builtin.libsigsegv@2.13%intel@19.1.3.304 arch=linux-rocky8-zen2
hmc7x3o  [b r ]          ^builtin.perl@5.34.0%intel@19.1.3.304+cpanm+shared+threads arch=linux-rocky8-zen2
e6jxz5y  [bl  ]              ^builtin.berkeley-db@18.1.40%intel@19.1.3.304+cxx~docs+stl patches=b231fcc4d5cff05e5c3a4814f6a5af0e9a966428dc2176540d2c05aff41de522 arch=linux-rocky8-zen2
umdyucs  [bl  ]              ^builtin.bzip2@1.0.8%intel@19.1.3.304~debug~pic+shared arch=linux-rocky8-zen2
4tmqpul  [b   ]                  ^builtin.diffutils@3.8%intel@19.1.3.304 arch=linux-rocky8-zen2
avhq3ua  [bl  ]                      ^builtin.libiconv@1.16%intel@19.1.3.304 libs=shared,static arch=linux-rocky8-zen2
6y7k2dv  [bl  ]              ^sdsc.gdbm@1.19%intel@19.1.3.304 arch=linux-rocky8-zen2
kbqwhsz  [bl  ]                  ^builtin.readline@8.1%intel@19.1.3.304 arch=linux-rocky8-zen2
mfdtybg  [bl  ]                      ^builtin.ncurses@6.2%intel@19.1.3.304~symlinks+termlib abi=none arch=linux-rocky8-zen2
t2dn7r4  [b r ]                          ^builtin.pkgconf@1.8.0%intel@19.1.3.304 arch=linux-rocky8-zen2
f5jcopl  [bl  ]              ^builtin.zlib@1.2.11%intel@19.1.3.304+optimize+pic+shared arch=linux-rocky8-zen2
7sekvhy  [b   ]      ^builtin.automake@1.16.3%intel@19.1.3.304 arch=linux-rocky8-zen2
y7g33fh  [b   ]      ^builtin.libtool@2.4.6%intel@19.1.3.304 arch=linux-rocky8-zen2
2yjohmo  [bl  ]      ^builtin.netcdf-c@4.8.1%intel@19.1.3.304~dap~fsync~hdf4~jna~mpi~parallel-netcdf+pic+shared arch=linux-rocky8-zen2
y22akbb  [bl  ]          ^builtin.hdf5@1.10.7%intel@19.1.3.304+cxx+fortran+hl~ipo~java~mpi+shared+szip~threadsafe+tools api=default build_type=RelWithDebInfo arch=linux-rocky8-zen2
ujjylab  [bl  ]              ^builtin.libaec@1.0.5%intel@19.1.3.304~ipo build_type=RelWithDebInfo arch=linux-rocky8-zen2

[+] /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen2/intel-19.1.3.304/libsigsegv-2.13-spm4df4l3vmi5f4ohnykhk64okegzkbg
[+] /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen2/intel-19.1.3.304/berkeley-db-18.1.40-e6jxz5y3efpfpcw2igbtwzfnhcgcijyc
[+] /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen2/intel-19.1.3.304/libiconv-1.16-avhq3uadbw7u6wisqm2rb5kmw7od3phs
[+] /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen2/intel-19.1.3.304/pkgconf-1.8.0-t2dn7r42sabpibwg7nu5i5a2drwwl7fa
[+] /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen2/intel-19.1.3.304/zlib-1.2.11-f5jcoplh5kwwwffz6aoo4s4ujzfrs7m7
[+] /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen2/intel-19.1.3.304/libaec-1.0.5-ujjylabloilbic2gh2ge2ewalxxp62k2
[+] /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen2/intel-19.1.3.304/m4-1.4.19-dibk2ojj7cnaddqh3pbwdvijfk4bdtaq
[+] /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen2/intel-19.1.3.304/diffutils-3.8-4tmqpulnodu3c63el2honngyhyr4c2v6
[+] /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen2/intel-19.1.3.304/ncurses-6.2-mfdtybg66ia3vxifcvszsoyds5ssf63m
[+] /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen2/intel-19.1.3.304/hdf5-1.10.7-y22akbbaaz37biihwvai2hw7id6krho2
==> Installing libtool-2.4.6-y7g33fhjh7yfc67pbrjtuc5toltkjujd
==> No binary for libtool-2.4.6-y7g33fhjh7yfc67pbrjtuc5toltkjujd found: installing from source
==> Using cached archive: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/var/spack/cache/_source-cache/archive/e3/e3bd4d5d3d025a36c21dd6af7ea818a2afcd4dfc1ea5a17b39d7854bcd0c06e3.tar.gz
==> Ran patch() for libtool
==> Warning: Intel's compilers may or may not optimize to the same degree for non-Intel microprocessors for optimizations that are not unique to Intel microprocessors
==> libtool: Executing phase: 'autoreconf'
==> libtool: Executing phase: 'configure'
==> libtool: Executing phase: 'build'
==> libtool: Executing phase: 'install'
==> libtool: Successfully installed libtool-2.4.6-y7g33fhjh7yfc67pbrjtuc5toltkjujd
  Fetch: 0.17s.  Build: 19.98s.  Total: 20.15s.
[+] /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen2/intel-19.1.3.304/libtool-2.4.6-y7g33fhjh7yfc67pbrjtuc5toltkjujd
[+] /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen2/intel-19.1.3.304/bzip2-1.0.8-umdyucsj4z22fphy7jiqiwxeyqt2bufo
[+] /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen2/intel-19.1.3.304/readline-8.1-kbqwhsz4fbip54f3omzwcgjj3lboxcxr
[+] /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen2/intel-19.1.3.304/netcdf-c-4.8.1-2yjohmodp3fpkxvxjbzygb6uawfd6uer
[+] /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-rocky8-zen2/intel-19.1.3.304/gdbm-1.19-6y7k2dvmru37xtbwmhdrd7wskod3a3ob
==> Installing perl-5.34.0-hmc7x3omgxdg42o5bwyjuysmniutewvr
==> No binary for perl-5.34.0-hmc7x3omgxdg42o5bwyjuysmniutewvr found: installing from source
==> Using cached archive: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/var/spack/cache/_source-cache/archive/55/551efc818b968b05216024fb0b727ef2ad4c100f8cb6b43fab615fa78ae5be9a.tar.gz
==> Using cached archive: /home/mkandes/cm/shared/apps/spack/0.17.1/cpu/var/spack/cache/_source-cache/archive/9d/9da50e155df72bce55cb69f51f1dbb4b62d23740fb99f6178bb27f22ebdf8a46.tar.gz
==> Moving resource stage
	source : /tmp/mkandes/spack-stage/resource-cpanm-hmc7x3omgxdg42o5bwyjuysmniutewvr/spack-src/
	destination : /tmp/mkandes/spack-stage/spack-stage-perl-5.34.0-hmc7x3omgxdg42o5bwyjuysmniutewvr/spack-src/cpanm/cpanm
==> Ran patch() for perl
==> Warning: Intel's compilers may or may not optimize to the same degree for non-Intel microprocessors for optimizations that are not unique to Intel microprocessors
==> perl: Executing phase: 'configure'
==> perl: Executing phase: 'build'
==> Error: ProcessError: Command exited with status 2:
    'make' '-j16'

141 errors found in build log:
     30      cygwin        haiku   	      mirbsd   		sco_2_3_2     uwin
     31      darwin        hpux   	      mpc   		sco_2_3_3     vos
     32      dcosx         i386   	      ncr_tower   	sco_2_3_4
     33      dec_osf       interix         netbsd   		solaris_2
     34      dos_djgpp     irix_4          newsos4   	stellar
     35      Which of these apply, if any? [linux]
  >> 36      gcc: error: unrecognized command line option '-we147'
  >> 37      gcc: error: unrecognized command line option '-mp'; did you mean '
             -p'?
  >> 38      gcc: error: unrecognized command line option '-no-gcc'; did you me
             an '-fno-dce'?
     39      Operating system name? [linux]
     40      Operating system version? [4.18.0-348.12.2.el8_5.x86_64]
     41      Installation prefix to use? (~name ok)
     42      [/home/mkandes/cm/shared/apps/spack/0.17.1/cpu/opt/spack/linux-roc
             ky8-zen2/intel-19.1.3.304/perl-5.34.0-hmc7x3omgxdg42o5bwyjuysmniut
             ewvr]
     43      AFS does not seem to be running...
     44      What installation prefix should I use for installing files? (~name
              ok)

     ...

     934     icc: command line remark #10148: option '-mp' not supported
     935     icc: command line remark #10148: option '-mp' not supported
     936     icc: command line remark #10148: option '-mp' not supported
     937     icc: command line remark #10148: option '-mp' not supported
     938     In file included from perl.h(7109),
     939                      from pad.c(150):
  >> 940     inline.h(149): error: identifier "__INT_MAX__" is undefined
     941           if (COP_SEQ_RANGE_LOW(pn) == PERL_PADSEQ_INTRO)
     942                                        ^
     943     
  >> 944     pad.c(329): error: type name is not allowed
     945                   if (CvSLABBED(&cvbody)) OpslabREFCNT_dec_padok(OpSLA
             B(CvROOT(&cvbody)));
     946                                           ^
     947     
  >> 948     pad.c(329): error: identifier "opslot_op" is undefined
     949                   if (CvSLABBED(&cvbody)) OpslabREFCNT_dec_padok(OpSLA
             B(CvROOT(&cvbody)));
     950                                           ^
     951     
  >> 952     pad.c(329): error: type name is not allowed
     953                   if (CvSLABBED(&cvbody)) OpslabREFCNT_dec_padok(OpSLA
             B(CvROOT(&cvbody)));
     954                                           ^
     955     
  >> 956     pad.c(329): error: expected an expression
     957                   if (CvSLABBED(&cvbody)) OpslabREFCNT_dec_padok(OpSLA
             B(CvROOT(&cvbody)));
     958                                           ^
     959     
  >> 960     pad.c(329): error: identifier "opslab_slots" is undefined
     961                   if (CvSLABBED(&cvbody)) OpslabREFCNT_dec_padok(OpSLA
             B(CvROOT(&cvbody)));
     962                                           ^
     963     
  >> 964     pad.c(329): error: type name is not allowed
     965                   if (CvSLABBED(&cvbody)) OpslabREFCNT_dec_padok(OpSLA
             B(CvROOT(&cvbody)));
     966                                           ^
     967     
  >> 968     pad.c(329): error: type name is not allowed
     969                   if (CvSLABBED(&cvbody)) OpslabREFCNT_dec_padok(OpSLA
             B(CvROOT(&cvbody)));
     970                                           ^
     971     
  >> 972     pad.c(329): error: expected an expression
     973                   if (CvSLABBED(&cvbody)) OpslabREFCNT_dec_padok(OpSLA
             B(CvROOT(&cvbody)));
     974                                           ^
     975     
  >> 976     pad.c(329): error: type name is not allowed
     977                   if (CvSLABBED(&cvbody)) OpslabREFCNT_dec_padok(OpSLA
             B(CvROOT(&cvbody)));
     978                                           ^
     979     
  >> 980     pad.c(329): error: type name is not allowed
     981                   if (CvSLABBED(&cvbody)) OpslabREFCNT_dec_padok(OpSLA
             B(CvROOT(&cvbody)));
     982                                           ^
     983     
  >> 984     pad.c(329): error: expected an expression
     985                   if (CvSLABBED(&cvbody)) OpslabREFCNT_dec_padok(OpSLA
             B(CvROOT(&cvbody)));
     986                                           ^
     987     
  >> 988     hv.c(93): error: type name is not allowed
     989           Newx(k, HEK_BASESIZE + len + 2, char);
     990           ^
     991     
  >> 992     hv.c(93): error: identifier "hek_key" is undefined
     993           Newx(k, HEK_BASESIZE + len + 2, char);
     994           ^
     995     
  >> 996     hv.c(93): error: type name is not allowed
     997           Newx(k, HEK_BASESIZE + len + 2, char);
     998           ^
     999     
  >> 1000    hv.c(93): error: type name is not allowed
     1001          Newx(k, HEK_BASESIZE + len + 2, char);
     1002          ^
     1003    
  >> 1004    pad.c(503): error: type name is not allowed
     1005          if      (CvROOT(cv))  slab = OpSLAB(CvROOT(cv));
     1006                                       ^
     1007    
  >> 1008    pad.c(503): error: identifier "opslot_op" is undefined
     1009          if      (CvROOT(cv))  slab = OpSLAB(CvROOT(cv));
     1010                                       ^
     1011    
  >> 1012    pad.c(503): error: type name is not allowed
     1013          if      (CvROOT(cv))  slab = OpSLAB(CvROOT(cv));
     1014                                       ^
     1015    
  >> 1016    pad.c(503): error: expected an expression
     1017          if      (CvROOT(cv))  slab = OpSLAB(CvROOT(cv));
     1018                                       ^
     1019    
  >> 1020    pad.c(503): error: identifier "opslab_slots" is undefined
     1021          if      (CvROOT(cv))  slab = OpSLAB(CvROOT(cv));
     1022                                       ^
     1023    
  >> 1024    hv.c(93): error: type name is not allowed
     1025          Newx(k, HEK_BASESIZE + len + 2, char);
     1026          ^
     1027    
  >> 1028    pad.c(613): error: identifier "__INT_MAX__" is undefined
     1029          COP_SEQ_RANGE_LOW_set(name, PERL_PADSEQ_INTRO);
     1030          ^
     1031    
  >> 1032    hv.c(137): error: expected an expression
     1033              (void)share_hek_hek(shared);
     1034                    ^
     1035    
  >> 1036    hv.c(137): error: identifier "shared_he_hek" is undefined
     1037              (void)share_hek_hek(shared);
     1038                    ^
     1039    
  >> 1040    hv.c(169): error: type name is not allowed
     1041              Newx(k, HEK_BASESIZE + sizeof(const SV *), char);
     1042              ^
     1043    
  >> 1044    hv.c(169): error: identifier "hek_key" is undefined
     1045              Newx(k, HEK_BASESIZE + sizeof(const SV *), char);
     1046              ^
     1047    
  >> 1048    hv.c(169): error: type name is not allowed
     1049              Newx(k, HEK_BASESIZE + sizeof(const SV *), char);
     1050              ^
     1051    
  >> 1052    hv.c(169): error: type name is not allowed
     1053              Newx(k, HEK_BASESIZE + sizeof(const SV *), char);
     1054              ^
     1055    
  >> 1056    hv.c(169): error: type name is not allowed
     1057              Newx(k, HEK_BASESIZE + sizeof(const SV *), char);
     1058              ^
     1059    
  >> 1060    pad.c(875): error: identifier "__INT_MAX__" is undefined
     1061                  && (   COP_SEQ_RANGE_LOW(sv)  == PERL_PADSEQ_INTRO
     1062                                                   ^
     1063    
  >> 1064    hv.c(181): error: expected an expression
     1065                  (void)share_hek_hek(shared);
     1066                        ^
     1067    
  >> 1068    hv.c(181): error: identifier "shared_he_hek" is undefined
     1069                  (void)share_hek_hek(shared);
     1070                        ^
     1071    
  >> 1072    pad.c(903): error: identifier "__INT_MAX__" is undefined
     1073                      && (   COP_SEQ_RANGE_LOW(sv)  == PERL_PADSEQ_INT
             RO
     1074                                                       ^
     1075    
  >> 1076    pad.c(979): error: identifier "__INT_MAX__" is undefined
     1077                  && COP_SEQ_RANGE_LOW(name) == PERL_PADSEQ_INTRO
     1078                                                ^
     1079    
  >> 1080    hv.c(436): error: type name is not allowed
     1081                          Newx(k, HEK_BASESIZE + sizeof(const SV *), c
             har);
     1082                          ^
     1083    
  >> 1084    hv.c(436): error: identifier "hek_key" is undefined
     1085                          Newx(k, HEK_BASESIZE + sizeof(const SV *), c
             har);
     1086                          ^
     1087    
  >> 1088    hv.c(436): error: type name is not allowed
     1089                          Newx(k, HEK_BASESIZE + sizeof(const SV *), c
             har);
     1090                          ^
     1091    
  >> 1092    hv.c(436): error: type name is not allowed
     1093                          Newx(k, HEK_BASESIZE + sizeof(const SV *), c
             har);
     1094                          ^
     1095    
  >> 1096    hv.c(436): error: type name is not allowed
     1097                          Newx(k, HEK_BASESIZE + sizeof(const SV *), c
             har);
     1098                          ^
     1099    
  >> 1100    hv.c(636): error: expected an expression
     1101                  keysv_hek  = SvSHARED_HEK_FROM_PV(SvPVX_const(keysv)
             );
     1102                               ^
     1103    
  >> 1104    hv.c(636): error: identifier "hek_key" is undefined
     1105                  keysv_hek  = SvSHARED_HEK_FROM_PV(SvPVX_const(keysv)
             );
     1106                               ^
     1107    
  >> 1108    hv.c(637): error: expected an expression
     1109              hash = SvSHARED_HASH(keysv);
     1110                     ^
     1111    
     1112    In file included from perl.h(7109),
     1113                     from op.c(163):
  >> 1114    inline.h(149): error: identifier "__INT_MAX__" is undefined
     1115          if (COP_SEQ_RANGE_LOW(pn) == PERL_PADSEQ_INTRO)
     1116                                       ^
     1117    
  >> 1118    pad.c(1451): error: identifier "__INT_MAX__" is undefined
     1119                  && COP_SEQ_RANGE_LOW(sv) == PERL_PADSEQ_INTRO)
     1120                                              ^
     1121    
  >> 1122    pad.c(1463): error: identifier "__INT_MAX__" is undefined
     1123          COP_SEQMAX_INC;
     1124          ^
     1125    
  >> 1126    pad.c(1505): error: identifier "__INT_MAX__" is undefined
     1127                  && COP_SEQ_RANGE_HIGH(sv) == PERL_PADSEQ_INTRO)
     1128                                               ^
     1129    
  >> 1130    pad.c(1522): error: identifier "__INT_MAX__" is undefined
     1131          COP_SEQMAX_INC;
     1132          ^
     1133    
  >> 1134    hv.c(1191): error: expected an expression
     1135                  keysv_hek  = SvSHARED_HEK_FROM_PV(SvPVX_const(keysv)
             );
     1136                               ^
     1137    
  >> 1138    hv.c(1191): error: identifier "hek_key" is undefined
     1139                  keysv_hek  = SvSHARED_HEK_FROM_PV(SvPVX_const(keysv)
             );
     1140                               ^
     1141    
  >> 1142    pad.c(2201): error: expected an expression
     1143               CvNAME_HEK_set(cv, share_hek_hek(CvNAME_HEK(proto)));
     1144               ^
     1145    
  >> 1146    pad.c(2201): error: identifier "shared_he_hek" is undefined
     1147               CvNAME_HEK_set(cv, share_hek_hek(CvNAME_HEK(proto)));
     1148               ^
     1149    
  >> 1150    hv.c(1192): error: expected an expression
     1151              hash = SvSHARED_HASH(keysv);
     1152                     ^
     1153    
  >> 1154    pad.c(2731): error: expected an expression
     1155          Newxz(alloc2,
     1156          ^
     1157    
  >> 1158    pad.c(2731): error: identifier "xpadn_str" is undefined
     1159          Newxz(alloc2,
     1160          ^
     1161    
  >> 1162    pad.c(2731): error: expected an expression
     1163          Newxz(alloc2,
     1164          ^
     1165    
  >> 1166    pad.c(2731): error: expected an expression
     1167          Newxz(alloc2,
     1168          ^
     1169    
  >> 1170    pad.c(2731): error: expected an expression
     1171          Newxz(alloc2,
     1172          ^
     1173    
  >> 1174    pad.c(2767): error: expected an expression
     1175          PadnameREFCNT(PADNAME_FROM_PV(PadnamePV(outer)))++;
     1176          ^
     1177    
  >> 1178    pad.c(2767): error: identifier "xpadn_str" is undefined
     1179          PadnameREFCNT(PADNAME_FROM_PV(PadnamePV(outer)))++;
     1180          ^
     1181    
  >> 1182    pad.c(2785): error: expected an expression
     1183                  PadnameREFCNT_dec(PADNAME_FROM_PV(PadnamePV(pn)));
     1184                  ^
     1185    
  >> 1186    pad.c(2785): error: identifier "xpadn_str" is undefined
     1187                  PadnameREFCNT_dec(PADNAME_FROM_PV(PadnamePV(pn)));
     1188                  ^
     1189    
  >> 1190    pad.c(2819): error: expected an expression
     1191           ? newPADNAMEouter(padname_dup(PADNAME_FROM_PV(PadnamePV(src
             )), param))
     1192                             ^
     1193    
  >> 1194    pad.c(2819): error: identifier "xpadn_str" is undefined
     1195           ? newPADNAMEouter(padname_dup(PADNAME_FROM_PV(PadnamePV(src
             )), param))
     1196                             ^
     1197    
  >> 1198    mro_core.c(344): error: expected an expression
     1199                                  ? newSVhek(SvSHARED_HEK_FROM_PV(SvPV
             X(val)))
     1200                                    ^
     1201    
  >> 1202    mro_core.c(344): error: identifier "hek_key" is undefined
     1203                                  ? newSVhek(SvSHARED_HEK_FROM_PV(SvPV
             X(val)))
     1204                                    ^
     1205    
  >> 1206    op.c(235): error: type name is not allowed
     1207          size_t sz_bytes = OpSLABSizeBytes(sz);
     1208                            ^
     1209    
  >> 1210    op.c(235): error: identifier "opslab_slots" is undefined
     1211          size_t sz_bytes = OpSLABSizeBytes(sz);
     1212                            ^
     1213    
  >> 1214    op.c(275): error: type name is not allowed
     1215          U16 sz = OpSLOT(o)->opslot_size;
     1216                   ^
     1217    
  >> 1218    op.c(275): error: identifier "opslot_op" is undefined
     1219          U16 sz = OpSLOT(o)->opslot_size;
     1220                   ^
     1221    
  >> 1222    op.c(351): error: type name is not allowed
     1223          sz_in_p = SIZE_TO_PSIZE(sz + OPSLOT_HEADER);
     1224                    ^
     1225    
  >> 1226    op.c(351): error: identifier "opslot_op" is undefined
     1227          sz_in_p = SIZE_TO_PSIZE(sz + OPSLOT_HEADER);
     1228                    ^
     1229    
     1230    compilation aborted for pad.c (code 2)
  >> 1231    op.c(509): error: type name is not allowed
     1232          slab = OpSLAB(o);
     1233                 ^
     1234    
  >> 1235    op.c(509): error: identifier "opslot_op" is undefined
     1236          slab = OpSLAB(o);
     1237                 ^
     1238    
  >> 1239    op.c(509): error: type name is not allowed
     1240          slab = OpSLAB(o);
     1241                 ^
     1242    
  >> 1243    op.c(509): error: expected an expression
     1244          slab = OpSLAB(o);
     1245                 ^
     1246    
  >> 1247    op.c(509): error: identifier "opslab_slots" is undefined
     1248          slab = OpSLAB(o);
     1249                 ^
     1250    
  >> 1251    hv.c(2719): error: type name is not allowed
     1252                      Newxz(k, HEK_BASESIZE + sizeof(const SV *), char
             );
     1253                      ^
     1254    
  >> 1255    hv.c(2719): error: identifier "hek_key" is undefined
     1256                      Newxz(k, HEK_BASESIZE + sizeof(const SV *), char
             );
     1257                      ^
     1258    
  >> 1259    hv.c(2719): error: type name is not allowed
     1260                      Newxz(k, HEK_BASESIZE + sizeof(const SV *), char
             );
     1261                      ^
     1262    
  >> 1263    hv.c(2719): error: type name is not allowed
     1264                      Newxz(k, HEK_BASESIZE + sizeof(const SV *), char
             );
     1265                      ^
     1266    
  >> 1267    hv.c(2719): error: type name is not allowed
     1268                      Newxz(k, HEK_BASESIZE + sizeof(const SV *), char
             );
     1269                      ^
     1270    
     1271    make: *** [makefile:251: pad.o] Error 2
     1272    make: *** Waiting for unfinished jobs....
  >> 1273    hv.c(2970): error: expected an expression
     1274                                        - STRUCT_OFFSET(struct shared_
             he,
     1275                                          ^
     1276    
  >> 1277    hv.c(2970): error: identifier "shared_he_hek" is undefined
     1278                                        - STRUCT_OFFSET(struct shared_
             he,
     1279                                          ^
     1280    
  >> 1281    hv.c(3130): error: expected an expression
     1282              Newx(k, STRUCT_OFFSET(struct shared_he,
     1283              ^
     1284    
  >> 1285    hv.c(3130): error: identifier "shared_he_hek" is undefined
     1286              Newx(k, STRUCT_OFFSET(struct shared_he,
     1287              ^
     1288    
  >> 1289    hv.c(3130): error: expected an expression
     1290              Newx(k, STRUCT_OFFSET(struct shared_he,
     1291              ^
     1292    
  >> 1293    hv.c(3130): error: expected an expression
     1294              Newx(k, STRUCT_OFFSET(struct shared_he,
     1295              ^
     1296    
  >> 1297    hv.c(3130): error: expected an expression
     1298              Newx(k, STRUCT_OFFSET(struct shared_he,
     1299              ^
     1300    
  >> 1301    hv.c(3487): error: expected an expression
     1302              hash = SvSHARED_HASH(key);
     1303                     ^
     1304    
  >> 1305    hv.c(3487): error: identifier "hek_key" is undefined
     1306              hash = SvSHARED_HASH(key);
     1307                     ^
     1308    
  >> 1309    hv.c(3674): error: expected an expression
     1310              hash = SvSHARED_HASH(key);
     1311                     ^
     1312    
  >> 1313    hv.c(3674): error: identifier "hek_key" is undefined
     1314              hash = SvSHARED_HASH(key);
     1315                     ^
     1316    
  >> 1317    toke.c(861): error: type name is not allowed
     1318      	 && OpSLAB(parser->nextval[nexttoke].opval) == slab) {
     1319      	    ^
     1320    
  >> 1321    toke.c(861): error: identifier "opslot_op" is undefined
     1322      	 && OpSLAB(parser->nextval[nexttoke].opval) == slab) {
     1323      	    ^
     1324    
  >> 1325    toke.c(861): error: type name is not allowed
     1326      	 && OpSLAB(parser->nextval[nexttoke].opval) == slab) {
     1327      	    ^
     1328    
  >> 1329    toke.c(861): error: expected an expression
     1330      	 && OpSLAB(parser->nextval[nexttoke].opval) == slab) {
     1331      	    ^
     1332    
  >> 1333    toke.c(861): error: identifier "opslab_slots" is undefined
     1334      	 && OpSLAB(parser->nextval[nexttoke].opval) == slab) {
     1335      	    ^
     1336    
  >> 1337    op.c(3077): error: function call is not allowed in a constant expr
             ession
     1338          STATIC_ASSERT_STMT(   STRUCT_OFFSET(BINOP,    op_last)
     1339          ^
     1340    
  >> 1341    op.c(3077): error: type name is not allowed
     1342          STATIC_ASSERT_STMT(   STRUCT_OFFSET(BINOP,    op_last)
     1343          ^
     1344    
  >> 1345    op.c(3077): error: identifier "op_last" is undefined
     1346          STATIC_ASSERT_STMT(   STRUCT_OFFSET(BINOP,    op_last)
     1347          ^
     1348    
  >> 1349    op.c(3077): error: function call is not allowed in a constant expr
             ession
     1350          STATIC_ASSERT_STMT(   STRUCT_OFFSET(BINOP,    op_last)
     1351          ^
     1352    
  >> 1353    gv.c(3832): error: type name is not allowed
     1354                                      STRUCT_OFFSET(XPVIV, xiv_iv));
     1355                                      ^
     1356    
  >> 1357    gv.c(3832): error: identifier "xiv_u" is undefined
     1358                                      STRUCT_OFFSET(XPVIV, xiv_iv));
     1359                                      ^
     1360    
  >> 1361    op.c(3077): error: type name is not allowed
     1362          STATIC_ASSERT_STMT(   STRUCT_OFFSET(BINOP,    op_last)
     1363          ^
     1364    
  >> 1365    op.c(3077): error: identifier "op_aux" is undefined
     1366          STATIC_ASSERT_STMT(   STRUCT_OFFSET(BINOP,    op_last)
     1367          ^
     1368    
  >> 1369    op.c(3079): error: function call is not allowed in a constant expr
             ession
     1370          STATIC_ASSERT_STMT(   STRUCT_OFFSET(LISTOP,   op_last)
     1371          ^
     1372    
  >> 1373    op.c(3079): error: type name is not allowed
     1374          STATIC_ASSERT_STMT(   STRUCT_OFFSET(LISTOP,   op_last)
     1375          ^
     1376    
  >> 1377    op.c(3079): error: identifier "op_last" is undefined
     1378          STATIC_ASSERT_STMT(   STRUCT_OFFSET(LISTOP,   op_last)
     1379          ^
     1380    
  >> 1381    op.c(3079): error: function call is not allowed in a constant expr
             ession
     1382          STATIC_ASSERT_STMT(   STRUCT_OFFSET(LISTOP,   op_last)
     1383          ^
     1384    
  >> 1385    op.c(3079): error: type name is not allowed
     1386          STATIC_ASSERT_STMT(   STRUCT_OFFSET(LISTOP,   op_last)
     1387          ^
     1388    
  >> 1389    op.c(3079): error: identifier "op_aux" is undefined
     1390          STATIC_ASSERT_STMT(   STRUCT_OFFSET(LISTOP,   op_last)
     1391          ^
     1392    
     1393    compilation aborted for mro_core.c (code 2)
  >> 1394    op.c(4159): error: identifier "__INT_MAX__" is undefined
     1395                  PAD_COMPNAME_GEN_set(o->op_targ, PERL_INT_MAX);
     1396                  ^
     1397    
  >> 1398    op.c(4312): error: identifier "__INT_MAX__" is undefined
     1399      	    PL_modcount = RETURN_UNLIMITED_NUMBER;
     1400      	                  ^
     1401    
     1402    make: *** [makefile:251: mro_core.o] Error 2
  >> 1403    op.c(4429): error: identifier "__INT_MAX__" is undefined
     1404      		if (PL_modcount != RETURN_UNLIMITED_NUMBER)
     1405      		                   ^
     1406    
  >> 1407    op.c(4434): error: identifier "__INT_MAX__" is undefined
     1408      		PL_modcount = RETURN_UNLIMITED_NUMBER;
     1409      		              ^
     1410    
  >> 1411    op.c(4446): error: identifier "__INT_MAX__" is undefined
     1412                 PL_modcount = RETURN_UNLIMITED_NUMBER;
     1413                               ^
     1414    
  >> 1415    op.c(4472): error: identifier "__INT_MAX__" is undefined
     1416             PL_modcount = RETURN_UNLIMITED_NUMBER;
     1417                           ^
     1418    
     1419    compilation aborted for hv.c (code 2)
     1420    compilation aborted for gv.c (code 2)
     1421    make: *** [makefile:251: hv.o] Error 2
     1422    make: *** [makefile:251: gv.o] Error 2
  >> 1423    op.c(5693): error: identifier "__INT_MAX__" is undefined
     1424          COP_SEQMAX_INC;
     1425          ^
     1426    
  >> 1427    toke.c(4713): error: identifier "__INT_MAX__" is undefined
     1428          unsigned int correct_length = maxlen < 0 ?  PERL_INT_MAX : m
             axlen;
     1429                                                      ^
     1430    
  >> 1431    op.c(8890): error: identifier "__INT_MAX__" is undefined
     1432          COP_SEQMAX_INC; /* Purely for B::*'s benefit */
     1433          ^
     1434    
  >> 1435    op.c(9337): error: identifier "__INT_MAX__" is undefined
     1436                  else if (PL_modcount < RETURN_UNLIMITED_NUMBER &&
     1437                                         ^
     1438    
  >> 1439    op.c(10224): error: identifier "__INT_MAX__" is undefined
     1440      	    PAD_COMPNAME_GEN_set(padoff, PERL_INT_MAX);
     1441      	    ^
     1442    
  >> 1443    op.c(10291): error: type name is not allowed
     1444              &&    OpSLOT(loop)->opslot_size
     1445                    ^
     1446    
  >> 1447    op.c(10291): error: identifier "opslot_op" is undefined
     1448              &&    OpSLOT(loop)->opslot_size
     1449                    ^
     1450    
  >> 1451    op.c(10292): error: type name is not allowed
     1452                  < SIZE_TO_PSIZE(sizeof(LOOP) + OPSLOT_HEADER))
     1453                    ^
     1454    
  >> 1455    op.c(11069): error: expected an expression
     1456      	if (hek) (void)share_hek_hek(hek);
     1457      	               ^
     1458    
  >> 1459    op.c(11069): error: identifier "shared_he_hek" is undefined
     1460      	if (hek) (void)share_hek_hek(hek);
     1461      	               ^
     1462    
  >> 1463    util.c(4772): error: identifier "__INT_MAX__" is undefined
     1464                  if (grok_atoUV(p, &uv, &endptr) && uv <= U32_MAX) {
     1465                                                           ^
     1466    
     1467    util.c(4906): warning #69: integer conversion resulted in truncati
             on
     1468          u += SEED_C5 * (U32)PTR2UV(&when);
     1469                         ^
     1470    
  >> 1471    op.c(13841): error: identifier "__INT_MAX__" is undefined
     1472      	PAD_COMPNAME_GEN_set(o->op_targ, PERL_INT_MAX);
     1473      	^
     1474    
  >> 1475    perl.c(611): error: identifier "__INT_MAX__" is undefined
     1476                      if (grok_atoUV(s, &uv, NULL) && uv <= INT_MAX)
     1477                                                            ^
     1478    
     1479    compilation aborted for util.c (code 2)
  >> 1480    op.c(15701): error: identifier "__INT_MAX__" is undefined
     1481          if (PAD_COMPNAME_GEN(o->op_targ) == PERL_INT_MAX)
     1482                                              ^
     1483    
     1484    make: *** [makefile:250: util.o] Error 2
  >> 1485    perl.c(4004): error: identifier "__INT_MAX__" is undefined
     1486                  && uv <= PERL_INT_MAX
     1487                           ^
     1488    
  >> 1489    pp_hot.c(4839): error: type name is not allowed
     1490                              SET_SVANY_FOR_BODYLESS_IV(newsv);
     1491                              ^
     1492    
  >> 1493    pp_hot.c(4839): error: identifier "xiv_u" is undefined
     1494                              SET_SVANY_FOR_BODYLESS_IV(newsv);
     1495                              ^
     1496    
     1497    compilation aborted for opmini.c (code 2)
     1498    make: *** [makefile:304: opmini.o] Error 2
     1499    compilation aborted for perlmini.c (code 2)
     1500    make: *** [makefile:312: perlmini.o] Error 2
     1501    compilation aborted for pp_hot.c (code 2)
     1502    make: *** [makefile:250: pp_hot.o] Error 2
     1503    compilation aborted for toke.c (code 2)
     1504    make: *** [makefile:250: toke.o] Error 2
  >> 1505    regcomp.c(12688): error: identifier "__INT_MAX__" is undefined
     1506          STATIC_ASSERT_DECL(REG_INFTY <= U32_MAX);
     1507          ^
     1508    
  >> 1509    regcomp.c(21850): error: type name is not allowed
     1510      	   sizeof(regexp) - STRUCT_OFFSET(regexp, xpv_cur));
     1511      	                    ^
     1512    
  >> 1513    regcomp.c(21850): error: identifier "xpv_cur" is undefined
     1514      	   sizeof(regexp) - STRUCT_OFFSET(regexp, xpv_cur));
     1515      	                    ^
     1516    
     1517    compilation aborted for regcomp.c (code 2)
     1518    make: *** [makefile:250: regcomp.o] Error 2

See build log for details:
  /tmp/mkandes/spack-stage/spack-stage-perl-5.34.0-hmc7x3omgxdg42o5bwyjuysmniutewvr/spack-build-out.txt

==> Warning: Skipping build of automake-1.16.3-7sekvhycm4t7fizttdhd6cdfi3nn6cnj since perl-5.34.0-hmc7x3omgxdg42o5bwyjuysmniutewvr failed
==> Warning: Skipping build of netcdf-cxx4-4.3.1-46eah6hciwm6rwxwxe3zao7mwdfrcdbh since automake-1.16.3-7sekvhycm4t7fizttdhd6cdfi3nn6cnj failed
==> Warning: Skipping build of autoconf-2.69-5drzntke2sz7ldooim4p5ggbas7furf7 since perl-5.34.0-hmc7x3omgxdg42o5bwyjuysmniutewvr failed
==> Error: Terminating after first install failure: ProcessError: Command exited with status 2:
    'make' '-j16'
real 138.27
user 78.56
sys 41.69
ERROR: spack install failed.
