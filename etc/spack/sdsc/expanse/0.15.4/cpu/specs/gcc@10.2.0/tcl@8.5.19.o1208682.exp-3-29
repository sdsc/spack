1612724482 1208682 f109cfe43557418b5139de54f5c1930d  /home/mkandes/cm/shared/apps/spack/0.15.4/cpu/etc/spack/sdsc/expanse/0.15.4/cpu/specs/gcc@10.2.0/tcl@8.5.19.sh afterok:1208671

#!/usr/bin/env bash

#SBATCH --job-name=tcl@8.5.19
#SBATCH --account=use300
#SBATCH --partition=compute
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=1
#SBATCH --cpus-per-task=128
#SBATCH --mem=248G
#SBATCH --time=01:00:00
#SBATCH --output=%x.o%j.%N

declare -xr LOCAL_TIME="$(date +'%Y%m%dT%H%M%S%z')"
declare -xir UNIX_TIME="$(date +'%s')"

declare -xr SYSTEM_NAME='expanse'

declare -xr SPACK_VERSION='0.15.4'
declare -xr SPACK_INSTANCE_NAME='cpu'
declare -xr SPACK_INSTANCE_DIR="${HOME}/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}"

declare -xr SLURM_JOB_SCRIPT="$(scontrol show job ${SLURM_JOB_ID} | awk -F= '/Command=/{print $2}')"
declare -xr SLURM_JOB_MD5SUM="$(md5sum ${SLURM_JOB_SCRIPT})"

declare -xr SCHEDULER_MODULE='slurm/expanse/20.02.3'

echo "${UNIX_TIME} ${SLURM_JOB_ID} ${SLURM_JOB_MD5SUM} ${SLURM_JOB_DEPENDENCY}" 
echo ""

cat "${SLURM_JOB_SCRIPT}"

module purge
module load "${SCHEDULER_MODULE}"
module list
. "${SPACK_INSTANCE_DIR}/share/spack/setup-env.sh"

declare -xr SPACK_PACKAGE='tcl@8.5.19'
declare -xr SPACK_COMPILER='gcc@10.2.0'
declare -xr SPACK_VARIANTS=''
declare -xr SPACK_DEPENDENCIES=''
declare -xr SPACK_SPEC="${SPACK_PACKAGE} % ${SPACK_COMPILER} ${SPACK_VARIANTS} ${SPACK_DEPENDENCIES}"

printenv

spack config get compilers  
spack config get config  
spack config get mirrors
spack config get modules
spack config get packages
spack config get repos
spack config get upstreams

spack spec --long --namespaces --types "${SPACK_SPEC}"
spack spec --yaml "${SPACK_SPEC}"

time -p spack install --jobs "${SLURM_CPUS_PER_TASK}" --fail-fast --yes-to-all "${SPACK_SPEC}"

spack module lmod refresh --delete-tree -y

sbatch --dependency="afterok:${SLURM_JOB_ID}" 'tk@8.5.19.sh'

Currently Loaded Modules:
  1) slurm/expanse/20.02.3

 

LD_LIBRARY_PATH=/cm/shared/apps/slurm/current/lib64/slurm:/cm/shared/apps/slurm/current/lib64
LS_COLORS=rs=0:di=38;5;33:ln=38;5;51:mh=00:pi=40;38;5;11:so=38;5;13:do=38;5;5:bd=48;5;232;38;5;11:cd=48;5;232;38;5;3:or=48;5;232;38;5;9:mi=01;05;37;41:su=48;5;196;38;5;15:sg=48;5;11;38;5;16:ca=48;5;196;38;5;226:tw=48;5;10;38;5;16:ow=48;5;10;38;5;21:st=48;5;21;38;5;15:ex=38;5;40:*.tar=38;5;9:*.tgz=38;5;9:*.arc=38;5;9:*.arj=38;5;9:*.taz=38;5;9:*.lha=38;5;9:*.lz4=38;5;9:*.lzh=38;5;9:*.lzma=38;5;9:*.tlz=38;5;9:*.txz=38;5;9:*.tzo=38;5;9:*.t7z=38;5;9:*.zip=38;5;9:*.z=38;5;9:*.dz=38;5;9:*.gz=38;5;9:*.lrz=38;5;9:*.lz=38;5;9:*.lzo=38;5;9:*.xz=38;5;9:*.zst=38;5;9:*.tzst=38;5;9:*.bz2=38;5;9:*.bz=38;5;9:*.tbz=38;5;9:*.tbz2=38;5;9:*.tz=38;5;9:*.deb=38;5;9:*.rpm=38;5;9:*.jar=38;5;9:*.war=38;5;9:*.ear=38;5;9:*.sar=38;5;9:*.rar=38;5;9:*.alz=38;5;9:*.ace=38;5;9:*.zoo=38;5;9:*.cpio=38;5;9:*.7z=38;5;9:*.rz=38;5;9:*.cab=38;5;9:*.wim=38;5;9:*.swm=38;5;9:*.dwm=38;5;9:*.esd=38;5;9:*.jpg=38;5;13:*.jpeg=38;5;13:*.mjpg=38;5;13:*.mjpeg=38;5;13:*.gif=38;5;13:*.bmp=38;5;13:*.pbm=38;5;13:*.pgm=38;5;13:*.ppm=38;5;13:*.tga=38;5;13:*.xbm=38;5;13:*.xpm=38;5;13:*.tif=38;5;13:*.tiff=38;5;13:*.png=38;5;13:*.svg=38;5;13:*.svgz=38;5;13:*.mng=38;5;13:*.pcx=38;5;13:*.mov=38;5;13:*.mpg=38;5;13:*.mpeg=38;5;13:*.m2v=38;5;13:*.mkv=38;5;13:*.webm=38;5;13:*.ogm=38;5;13:*.mp4=38;5;13:*.m4v=38;5;13:*.mp4v=38;5;13:*.vob=38;5;13:*.qt=38;5;13:*.nuv=38;5;13:*.wmv=38;5;13:*.asf=38;5;13:*.rm=38;5;13:*.rmvb=38;5;13:*.flc=38;5;13:*.avi=38;5;13:*.fli=38;5;13:*.flv=38;5;13:*.gl=38;5;13:*.dl=38;5;13:*.xcf=38;5;13:*.xwd=38;5;13:*.yuv=38;5;13:*.cgm=38;5;13:*.emf=38;5;13:*.ogv=38;5;13:*.ogx=38;5;13:*.aac=38;5;45:*.au=38;5;45:*.flac=38;5;45:*.m4a=38;5;45:*.mid=38;5;45:*.midi=38;5;45:*.mka=38;5;45:*.mp3=38;5;45:*.mpc=38;5;45:*.ogg=38;5;45:*.ra=38;5;45:*.wav=38;5;45:*.oga=38;5;45:*.opus=38;5;45:*.spx=38;5;45:*.xspf=38;5;45:
SLURM_NODEID=0
SLURM_TASK_PID=41651
__LMOD_REF_COUNT_PATH=/cm/shared/apps/slurm/current/sbin:1;/cm/shared/apps/slurm/current/bin:1;/home/mkandes/cm/shared/apps/spack/0.15.4/cpu/bin:1;/usr/local/bin:1;/usr/bin:1;/usr/local/sbin:1;/usr/sbin:1;/opt/dell/srvadmin/bin:1;/home/mkandes/.local/bin:1;/home/mkandes/bin:1
_ModuleTable002_=ZXMiLCIvdXNyL3NoYXJlL21vZHVsZWZpbGVzIiwiL3Vzci9zaGFyZS9Nb2R1bGVzL21vZHVsZWZpbGVzIiwiL2NtL3NoYXJlZC9tb2R1bGVmaWxlcyIsfSxbInN5c3RlbUJhc2VNUEFUSCJdPSIvY20vbG9jYWwvbW9kdWxlZmlsZXM6L2NtL3NoYXJlZC9hcHBzL3hzZWRlL21vZHVsZWZpbGVzOi9jbS9zaGFyZWQvbW9kdWxlZmlsZXM6L2V0Yy9tb2R1bGVmaWxlczovdXNyL3NoYXJlL21vZHVsZWZpbGVzOi91c3Ivc2hhcmUvTW9kdWxlcy9tb2R1bGVmaWxlcyIsfQ==
SSH_CONNECTION=208.58.214.56 49268 198.202.100.14 22
SLURM_PRIO_PROCESS=0
LANG=en_US.UTF-8
SLURM_SUBMIT_DIR=/home/mkandes/cm/shared/apps/spack/0.15.4/cpu/etc/spack/sdsc/expanse/0.15.4/cpu/specs/gcc@10.2.0
HISTCONTROL=ignoredups
HOSTNAME=exp-3-29
LMOD_SYSTEM_DEFAULT_MODULES=DefaultModules
SLURM_JOB_DEPENDENCY=afterok:1208671
OLDPWD=/home/mkandes/cm/shared/apps/spack/0.15.4/cpu/etc/spack/sdsc/expanse/0.15.4/cpu/specs
__LMOD_REF_COUNT__LMFILES_=/cm/local/modulefiles/slurm/expanse/20.02.3:1
SLURM_CPUS_PER_TASK=128
SPACK_DEPENDENCIES=
ENVIRONMENT=BATCH
SPACK_VERSION=0.15.4
SLURM_PROCID=0
SLURM_JOB_GID=300
SPACK_VARIANTS=
SPACK_INSTANCE_DIR=/home/mkandes/cm/shared/apps/spack/0.15.4/cpu
__LMOD_REF_COUNT_LD_LIBRARY_PATH=/cm/shared/apps/slurm/current/lib64/slurm:1;/cm/shared/apps/slurm/current/lib64:1
SLURM_JOB_SCRIPT=/home/mkandes/cm/shared/apps/spack/0.15.4/cpu/etc/spack/sdsc/expanse/0.15.4/cpu/specs/gcc@10.2.0/tcl@8.5.19.sh
SLURMD_NODENAME=exp-3-29
SLURM_TASKS_PER_NODE=1
S_COLORS=auto
SPACK_COMPILER=gcc@10.2.0
XDG_SESSION_ID=312103
SLURM_NNODES=1
USER=mkandes
SLURM_NTASKS_PER_NODE=1
__LMOD_REF_COUNT_MODULEPATH=/cm/local/modulefiles:1;/cm/shared/apps/xsede/modulefiles:1;/etc/modulefiles:1;/usr/share/modulefiles:1;/usr/share/Modules/modulefiles:1;/cm/shared/modulefiles:1
__LMOD_REF_COUNT_LOADEDMODULES=slurm/expanse/20.02.3:1
PWD=/home/mkandes/cm/shared/apps/spack/0.15.4/cpu/etc/spack/sdsc/expanse/0.15.4/cpu/specs/gcc@10.2.0
ENABLE_LMOD=1
SLURM_JOB_NODELIST=exp-3-29
HOME=/home/mkandes
SLURM_CLUSTER_NAME=expanse
LMOD_COLORIZE=yes
LOCAL_TIME=20210207T110122-0800
SLURM_NODELIST=exp-3-29
SSH_CLIENT=208.58.214.56 49268 22
LMOD_VERSION=8.2.4
CPATH=/cm/shared/apps/slurm/current/include
SLURM_NTASKS=1
LMOD_SETTARG_CMD=:
SLURM_JOB_CPUS_PER_NODE=128
BASH_ENV=/usr/share/lmod/lmod/init/bash
SLURM_TOPOLOGY_ADDR=exp-3-29
SLURM_WORKING_CLUSTER=expanse:mgr1:6817:8960:109
SLURM_JOB_MD5SUM=f109cfe43557418b5139de54f5c1930d  /home/mkandes/cm/shared/apps/spack/0.15.4/cpu/etc/spack/sdsc/expanse/0.15.4/cpu/specs/gcc@10.2.0/tcl@8.5.19.sh
SPACK_PACKAGE=tcl@8.5.19
__LMOD_REF_COUNT_LIBRARY_PATH=/cm/shared/apps/slurm/current/lib64/slurm:1;/cm/shared/apps/slurm/current/lib64:1
SLURM_JOB_NAME=tcl@8.5.19
TMPDIR=/tmp
LIBRARY_PATH=/cm/shared/apps/slurm/current/lib64/slurm:/cm/shared/apps/slurm/current/lib64
LMOD_sys=Linux
SLURM_JOBID=1208682
SYSTEM_NAME=expanse
_ModuleTable001_=X01vZHVsZVRhYmxlXz17WyJNVHZlcnNpb24iXT0zLFsiY19yZWJ1aWxkVGltZSJdPWZhbHNlLFsiY19zaG9ydFRpbWUiXT1mYWxzZSxkZXB0aFQ9e30sZmFtaWx5PXt9LG1UPXtzbHVybT17WyJmbiJdPSIvY20vbG9jYWwvbW9kdWxlZmlsZXMvc2x1cm0vZXhwYW5zZS8yMC4wMi4zIixbImZ1bGxOYW1lIl09InNsdXJtL2V4cGFuc2UvMjAuMDIuMyIsWyJsb2FkT3JkZXIiXT0xLHByb3BUPXt9LFsic3RhY2tEZXB0aCJdPTAsWyJzdGF0dXMiXT0iYWN0aXZlIixbInVzZXJOYW1lIl09InNsdXJtL2V4cGFuc2UvMjAuMDIuMyIsfSx9LG1wYXRoQT17Ii9jbS9sb2NhbC9tb2R1bGVmaWxlcyIsIi9jbS9zaGFyZWQvYXBwcy94c2VkZS9tb2R1bGVmaWxlcyIsIi9ldGMvbW9kdWxlZmls
SLURM_CONF=/cm/shared/apps/slurm/var/etc/expanse/slurm.conf
LOADEDMODULES=slurm/expanse/20.02.3
__LMOD_REF_COUNT_MANPATH=/cm/shared/apps/slurm/current/man:2;/usr/share/lmod/lmod/share/man:1;/usr/local/share/man:1;/usr/share/man:1;/cm/local/apps/environment-modules/current/share/man:1
_ModuleTable003_=dXNlck5hbWUiXT0ic2x1cm0iLH0sfSxtcGF0aEE9eyIvY20vc2hhcmVkL2FwcHMvc3BhY2svY3B1L2xtb2QvbGludXgtY2VudG9zOC14ODZfNjQvQ29yZSIsIi9jbS9sb2NhbC9tb2R1bGVmaWxlcyIsIi9jbS9zaGFyZWQvYXBwcy94c2VkZS9tb2R1bGVmaWxlcyIsIi9ldGMvbW9kdWxlZmlsZXMiLCIvdXNyL3NoYXJlL21vZHVsZWZpbGVzIiwiL3Vzci9zaGFyZS9Nb2R1bGVzL21vZHVsZWZpbGVzIiwiL2NtL3NoYXJlZC9tb2R1bGVmaWxlcyIsfSxbInN5c3RlbUJhc2VNUEFUSCJdPSIvY20vbG9jYWwvbW9kdWxlZmlsZXM6L2NtL3NoYXJlZC9hcHBzL3hzZWRlL21vZHVsZWZpbGVzOi9jbS9zaGFyZWQvbW9kdWxlZmlsZXM6L2V0Yy9tb2R1bGVmaWxlczovdXNyL3NoYXJlL21v
SLURM_NODE_ALIASES=(null)
SLURM_JOB_QOS=normal-qos
LMOD_ROOT=/usr/share/lmod
SLURM_TOPOLOGY_ADDR_PATTERN=node
SSH_TTY=/dev/pts/53
MAIL=/var/spool/mail/mkandes
SLURM_CPUS_ON_NODE=128
LMOD_arch=x86_64
SLURM_JOB_NUM_NODES=1
__Init_Default_Modules=1
CMD_WLM_CLUSTER_NAME=expanse
SLURM_MEM_PER_NODE=253952
SPACK_ROOT=/home/mkandes/cm/shared/apps/spack/0.15.4/cpu
SHELL=/bin/bash
TERM=xterm-256color
SLURM_JOB_UID=501506
_ModuleTable_Sz_=2
__LMOD_REF_COUNT_CPATH=/cm/shared/apps/slurm/current/include:1
SLURM_JOB_PARTITION=compute
SPACK_INSTANCE_NAME=cpu
SLURM_JOB_USER=mkandes
SLURM_NPROCS=1
SHLVL=4
SLURM_SUBMIT_HOST=exp-3-29
UNIX_TIME=1612724482
SLURM_JOB_ACCOUNT=use300
MANPATH=/cm/shared/apps/slurm/current/man:/usr/share/lmod/lmod/share/man::/usr/local/share/man:/usr/share/man:/cm/local/apps/environment-modules/current/share/man
SPACK_LD_LIBRARY_PATH=/cm/shared/apps/slurm/current/lib64/slurm:/cm/shared/apps/slurm/current/lib64
LMOD_PREPEND_BLOCK=normal
MODULEPATH=/cm/local/modulefiles:/cm/shared/apps/xsede/modulefiles:/etc/modulefiles:/usr/share/modulefiles:/usr/share/Modules/modulefiles:/cm/shared/modulefiles
SLURM_GTIDS=0
LOGNAME=mkandes
DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/501506/bus
XDG_RUNTIME_DIR=/run/user/501506
MODULEPATH_ROOT=/usr/share/modulefiles
PATH=/cm/shared/apps/slurm/current/sbin:/cm/shared/apps/slurm/current/bin:/home/mkandes/cm/shared/apps/spack/0.15.4/cpu/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/dell/srvadmin/bin:/home/mkandes/.local/bin:/home/mkandes/bin
SLURM_JOB_ID=1208682
_LMFILES_=/cm/local/modulefiles/slurm/expanse/20.02.3
SCHEDULER_MODULE=slurm/expanse/20.02.3
MODULESHOME=/usr/share/lmod/lmod
LMOD_SETTARG_FULL_SUPPORT=no
HISTSIZE=1000
LMOD_PKG=/usr/share/lmod/lmod
SPACK_SPEC=tcl@8.5.19 % gcc@10.2.0  
LMOD_CMD=/usr/share/lmod/lmod/libexec/lmod
SLURM_LOCALID=0
LESSOPEN=||/usr/bin/lesspipe.sh %s
LMOD_FULL_SETTARG_SUPPORT=no
LMOD_DIR=/usr/share/lmod/lmod/libexec
BASH_FUNC_module%%=() {  eval $($LMOD_CMD bash "$@") && eval $(${LMOD_SETTARG_CMD:-:} -s sh)
}
BASH_FUNC_spack%%=() {  for var in LD_LIBRARY_PATH DYLD_LIBRARY_PATH DYLD_FALLBACK_LIBRARY_PATH;
 do
 eval "if [ -n \"\${${var}-}\" ]; then export SPACK_$var=\${${var}}; fi";
 done;
 if [ -n "${ZSH_VERSION:-}" ]; then
 emulate -L sh;
 fi;
 _sp_flags="";
 while [ ! -z ${1+x} ] && [ "${1#-}" != "${1}" ]; do
 _sp_flags="$_sp_flags $1";
 shift;
 done;
 if [ -n "$_sp_flags" ] && [ "${_sp_flags#*h}" != "${_sp_flags}" ] || [ "${_sp_flags#*V}" != "${_sp_flags}" ]; then
 command spack $_sp_flags "$@";
 return;
 fi;
 _sp_subcommand="";
 if [ ! -z ${1+x} ]; then
 _sp_subcommand="$1";
 shift;
 fi;
 case $_sp_subcommand in 
 "cd")
 _sp_arg="";
 if [ -n "$1" ]; then
 _sp_arg="$1";
 shift;
 fi;
 if [ "$_sp_arg" = "-h" ] || [ "$_sp_arg" = "--help" ]; then
 command spack cd -h;
 else
 LOC="$(spack location $_sp_arg "$@")";
 if [ -d "$LOC" ]; then
 cd "$LOC";
 else
 return 1;
 fi;
 fi;
 return
 ;;
 "env")
 _sp_arg="";
 if [ -n "$1" ]; then
 _sp_arg="$1";
 shift;
 fi;
 if [ "$_sp_arg" = "-h" ] || [ "$_sp_arg" = "--help" ]; then
 command spack env -h;
 else
 case $_sp_arg in 
 activate)
 _a=" $@";
 if [ -z ${1+x} ] || [ "${_a#* --sh}" != "$_a" ] || [ "${_a#* --csh}" != "$_a" ] || [ "${_a#* -h}" != "$_a" ] || [ "${_a#* --help}" != "$_a" ]; then
 command spack env activate "$@";
 else
 eval $(command spack $_sp_flags env activate --sh "$@");
 fi
 ;;
 deactivate)
 _a=" $@";
 if [ "${_a#* --sh}" != "$_a" ] || [ "${_a#* --csh}" != "$_a" ]; then
 command spack env deactivate "$@";
 else
 if [ -n "$*" ]; then
 command spack env deactivate -h;
 else
 eval $(command spack $_sp_flags env deactivate --sh);
 fi;
 fi
 ;;
 *)
 command spack env $_sp_arg "$@"
 ;;
 esac;
 fi;
 return
 ;;
 "load" | "unload")
 _a=" $@";
 if [ "${_a#* --sh}" != "$_a" ] || [ "${_a#* --csh}" != "$_a" ] || [ "${_a#* -h}" != "$_a" ] || [ "${_a#* --help}" != "$_a" ]; then
 command spack $_sp_flags $_sp_subcommand "$@";
 else
 eval $(command spack $_sp_flags $_sp_subcommand --sh "$@" ||                     echo "return 1");
 fi
 ;;
 *)
 command spack $_sp_flags $_sp_subcommand "$@"
 ;;
 esac
}
BASH_FUNC_ml%%=() {  eval $($LMOD_DIR/ml_cmd "$@")
}
_=/usr/bin/printenv
compilers:
- compiler:
    spec: gcc@8.3.1
    paths:
      cc: /usr/bin/gcc
      cxx: /usr/bin/g++
      f77: /usr/bin/gfortran
      fc: /usr/bin/gfortran
    flags:
      cflags: -O2 -march=native
      cxxflags: -O2 -march=native
      fflags: -O2 -march=native
    operating_system: centos8
    target: x86_64
    modules: []
    environment: {}
    extra_rpaths: []
- compiler:
    spec: gcc@10.2.0
    paths:
      cc: /home/mkandes/cm/shared/apps/spack/0.15.4/cpu/opt/spack/linux-centos8-zen/gcc-8.3.1/gcc-10.2.0-l7hz3e5lm6qrajgevsompjxkrwszyewy/bin/gcc
      cxx: /home/mkandes/cm/shared/apps/spack/0.15.4/cpu/opt/spack/linux-centos8-zen/gcc-8.3.1/gcc-10.2.0-l7hz3e5lm6qrajgevsompjxkrwszyewy/bin/g++
      f77: /home/mkandes/cm/shared/apps/spack/0.15.4/cpu/opt/spack/linux-centos8-zen/gcc-8.3.1/gcc-10.2.0-l7hz3e5lm6qrajgevsompjxkrwszyewy/bin/gfortran
      fc: /home/mkandes/cm/shared/apps/spack/0.15.4/cpu/opt/spack/linux-centos8-zen/gcc-8.3.1/gcc-10.2.0-l7hz3e5lm6qrajgevsompjxkrwszyewy/bin/gfortran
    flags:
      cflags: -O2 -march=native
      cxxflags: -O2 -march=native
      fflags: -O2 -march=native
    operating_system: centos8
    target: x86_64
    modules: []
    environment: {}
    extra_rpaths: []
config:
  debug: false
  connect_timeout: 10
  verify_ssl: true
  checksum: true
  dirty: false
  build_jobs: 16
  build_stage:
  - $tempdir/$user/spack-stage
  - ~/.spack/stage
  # - $spack/var/spack/stage


  # Cache directory for already downloaded source tarballs and archived
  # repositories. This can be purged with `spack clean --downloads`.
  install_tree:
    root: $spack/opt/spack
    projections:
      all: ${ARCHITECTURE}/${COMPILERNAME}-${COMPILERVER}/${PACKAGE}-${VERSION}-${HASH}
  template_dirs:
  - $spack/share/spack/templates


  # Locations where different types of modules should be installed.
  module_roots:
    tcl: $spack/share/spack/modules
    lmod: $spack/share/spack/lmod
  source_cache: $spack/var/spack/cache
  misc_cache: ~/.spack/cache
  suppress_gpg_warnings: false
  install_missing_compilers: false
  build_language: C
  locks: true
  ccache: false
  db_lock_timeout: 3
  package_lock_timeout:
  shared_linking: rpath
  allow_sgid: true
mirrors:
  spack-public: https://spack-llnl-mirror.s3-us-west-2.amazonaws.com/
modules:
  enable:
  - lmod
  prefix_inspections:
    bin:
    - PATH
    man:
    - MANPATH
    share/man:
    - MANPATH
    share/aclocal:
    - ACLOCAL_PATH
    lib:
    - LD_LIBRARY_PATH
    - LIBRARY_PATH
    lib64:
    - LD_LIBRARY_PATH
    - LIBRARY_PATH
    include:
    - C_INCLUDE_PATH
    - CPLUS_INCLUDE_PATH
    
      # The INCLUDE env variable specifies paths to look for
      # .mod file for Intel Fortran compilers
    - INCLUDE
    lib/pkgconfig:
    - PKG_CONFIG_PATH
    lib64/pkgconfig:
    - PKG_CONFIG_PATH
    share/pkgconfig:
    - PKG_CONFIG_PATH
    ? ''
    : - CMAKE_PREFIX_PATH

  lmod:
    hierarchy:
    - mpi
    core_compilers:
    - gcc@8.3.1
    hash_length: 0
    whitelist:
    - gcc
    - intel
    blacklist:
    - '%gcc@8.3.1'
    blacklist_implicits: true
    naming_scheme: '{name}/{version}'
    projections:
      all: '{name}/{version}'
packages:
  all:
    compiler: [gcc, intel, pgi, clang, xl, nag, fj]
    providers:
      D: [ldc]
      awk: [gawk]
      blas: [openblas]
      daal: [intel-daal]
      elf: [elfutils]
      fftw-api: [fftw]
      gl: [mesa+opengl, opengl]
      glx: [mesa+glx, opengl]
      glu: [mesa-glu, openglu]
      golang: [gcc]
      iconv: [libiconv]
      ipp: [intel-ipp]
      java: [openjdk, jdk, ibm-java]
      jpeg: [libjpeg-turbo, libjpeg]
      lapack: [openblas]
      mariadb-client: [mariadb-c-client, mariadb]
      mkl: [intel-mkl]
      mpe: [mpe2]
      mpi: [openmpi, mpich]
      mysql-client: [mysql, mariadb-c-client]
      opencl: [pocl]
      pil: [py-pillow-simd]
      pkgconfig: [pkgconf, pkg-config]
      rpc: [libtirpc]
      scalapack: [netlib-scalapack]
      sycl: [hipsycl]
      szip: [libszip, libaec]
      tbb: [intel-tbb]
      unwind: [libunwind]
    permissions:
      read: world
      write: user
  openssl:
    externals:
    - spec: openssl@1.1.1c % gcc@8.3.1 arch=linux-centos8-zen
      prefix: /usr
    - spec: openssl@1.1.1c % gcc@10.2.0 arch=linux-centos8-zen2
      prefix: /usr
    buildable: false
repos:
- $spack/var/spack/repos/sdsc
- $spack/var/spack/repos/builtin
upstreams: {}
Input spec
--------------------------------
[    ]  .tcl@8.5.19%gcc@10.2.0

Concretized
--------------------------------
zo6leeg  [    ]  builtin.tcl@8.5.19%gcc@10.2.0 cflags="-O2 -march=native" cxxflags="-O2 -march=native" fflags="-O2 -march=native"  arch=linux-centos8-zen2
55omrwx  [bl  ]      ^builtin.zlib@1.2.11%gcc@10.2.0 cflags="-O2 -march=native" cxxflags="-O2 -march=native" fflags="-O2 -march=native" +optimize+pic+shared arch=linux-centos8-zen2

spec:
- tcl:
    version: 8.5.19
    arch:
      platform: linux
      platform_os: centos8
      target:
        name: zen2
        vendor: AuthenticAMD
        features:
        - abm
        - aes
        - avx
        - avx2
        - bmi1
        - bmi2
        - clflushopt
        - clwb
        - clzero
        - cx16
        - f16c
        - fma
        - fsgsbase
        - mmx
        - movbe
        - pclmulqdq
        - popcnt
        - rdseed
        - sse
        - sse2
        - sse4_1
        - sse4_2
        - sse4a
        - ssse3
        - xsavec
        - xsaveopt
        generation: 0
        parents:
        - zen
    compiler:
      name: gcc
      version: 10.2.0
    namespace: builtin
    parameters:
      cflags:
      - -O2
      - -march=native
      cppflags: []
      cxxflags:
      - -O2
      - -march=native
      fflags:
      - -O2
      - -march=native
      ldflags: []
      ldlibs: []
    dependencies:
      zlib:
        hash: 55omrwxdycckdj5oqhmpsx5tjn6lmhn6
        type:
        - build
        - link
    hash: zo6leeg74jk3ysugf4xxt4g4vlyd635t
    build_hash: zo6leeg74jk3ysugf4xxt4g4vlyd635t
- zlib:
    version: 1.2.11
    arch:
      platform: linux
      platform_os: centos8
      target:
        name: zen2
        vendor: AuthenticAMD
        features:
        - abm
        - aes
        - avx
        - avx2
        - bmi1
        - bmi2
        - clflushopt
        - clwb
        - clzero
        - cx16
        - f16c
        - fma
        - fsgsbase
        - mmx
        - movbe
        - pclmulqdq
        - popcnt
        - rdseed
        - sse
        - sse2
        - sse4_1
        - sse4_2
        - sse4a
        - ssse3
        - xsavec
        - xsaveopt
        generation: 0
        parents:
        - zen
    compiler:
      name: gcc
      version: 10.2.0
    namespace: builtin
    parameters:
      optimize: true
      pic: true
      shared: true
      cflags:
      - -O2
      - -march=native
      cppflags: []
      cxxflags:
      - -O2
      - -march=native
      fflags:
      - -O2
      - -march=native
      ldflags: []
      ldlibs: []
    hash: 55omrwxdycckdj5oqhmpsx5tjn6lmhn6
    build_hash: 55omrwxdycckdj5oqhmpsx5tjn6lmhn6
==> Installing zlib
==> No binary for zlib found: installing from source
==> Using cached archive: /home/mkandes/cm/shared/apps/spack/0.15.4/cpu/var/spack/cache/_source-cache/archive/c3/c3e5e9fdd5004dcb542feda5ee4f0ff0744628baf8ed2dd5d66f8ca1197cb1a1.tar.gz
==> zlib: Executing phase: 'install'
[+] /home/mkandes/cm/shared/apps/spack/0.15.4/cpu/opt/spack/linux-centos8-zen2/gcc-10.2.0/zlib-1.2.11-55omrwxdycckdj5oqhmpsx5tjn6lmhn6
==> Installing tcl
==> No binary for tcl found: installing from source
==> Fetching https://spack-llnl-mirror.s3-us-west-2.amazonaws.com/_source-cache/archive/d3/d3f04456da873d17f02efc30734b0300fb6c3b85028d445fe284b83253a6db18.tar.gz
==> tcl: Executing phase: 'autoreconf'
==> tcl: Executing phase: 'configure'
==> tcl: Executing phase: 'build'
==> tcl: Executing phase: 'install'
[+] /home/mkandes/cm/shared/apps/spack/0.15.4/cpu/opt/spack/linux-centos8-zen2/gcc-10.2.0/tcl-8.5.19-zo6leeg74jk3ysugf4xxt4g4vlyd635t
real 120.17
user 117.20
sys 156.18
==> Regenerating lmod module files
Submitted batch job 1208686
