1687646694 2748 a86968557976d1063e9476ac2dfc6dba  /cm/shared/apps/spack/0.17.3/cpu/etc/spack/sdsc/tscc/0.17.3/cpu/specs/intel@19.1.1.217/papi@6.0.0.1.sh afterok:2746

#!/usr/bin/env bash

#SBATCH --job-name=papi@6.0.0.1
#SBATCH --account=sys200
#SBATCH --partition=hotel
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=1
#SBATCH --cpus-per-task=8
#SBATCH --time=00:30:00
#SBATCH --output=%x.o%j.%N

declare -xr LOCAL_TIME="$(date +'%Y%m%dT%H%M%S%z')"
declare -xir UNIX_TIME="$(date +'%s')"

declare -xr SYSTEM_NAME='tscc'

declare -xr SPACK_VERSION='0.17.3'
declare -xr SPACK_INSTANCE_NAME='cpu'
declare -xr SPACK_INSTANCE_DIR="/cm/shared/apps/spack/${SPACK_VERSION}/${SPACK_INSTANCE_NAME}"

declare -xr SLURM_JOB_SCRIPT="$(scontrol show job ${SLURM_JOB_ID} | awk -F= '/Command=/{print $2}')"
declare -xr SLURM_JOB_MD5SUM="$(md5sum ${SLURM_JOB_SCRIPT})"

declare -xr SCHEDULER_MODULE='slurm'

echo "${UNIX_TIME} ${SLURM_JOB_ID} ${SLURM_JOB_MD5SUM} ${SLURM_JOB_DEPENDENCY}" 
echo ""

cat "${SLURM_JOB_SCRIPT}"

. "${SPACK_INSTANCE_DIR}/share/spack/setup-env.sh"

declare -xr INTEL_LICENSE_FILE='40000@elprado.sdsc.edu:40200@elprado.sdsc.edu'
declare -xr SPACK_PACKAGE='papi@6.0.0.1'
declare -xr SPACK_COMPILER='intel@19.1.1.217'
declare -xr SPACK_VARIANTS='~cuda ~example ~infiniband ~lmsensors ~nvml ~powercap ~rapl ~rocm ~rocm_smi ~sde +shared ~static_tools'
declare -xr SPACK_DEPENDENCIES=''
declare -xr SPACK_SPEC="${SPACK_PACKAGE} % ${SPACK_COMPILER} ${SPACK_VARIANTS} ${SPACK_DEPENDENCIES}"

module purge
module load "${SCHEDULER_MODULE}"
module load "${SPACK_INSTANCE_NAME}"
module load intel/19.1.1.217
module list

printenv

spack config get compilers
spack config get config  
spack config get mirrors
spack config get modules
spack config get packages
spack config get repos
spack config get upstreams

spack spec --long --namespaces --types "${SPACK_SPEC}"
if [[ "${?}" -ne 0 ]]; then
  echo 'ERROR: spack concretization failed.'
  exit 1
fi

time -p spack install --jobs "${SLURM_CPUS_PER_TASK}" --fail-fast --yes-to-all "${SPACK_SPEC}"
if [[ "${?}" -ne 0 ]]; then
  echo 'ERROR: spack install failed.'
  exit 1
fi

spack module lmod refresh --delete-tree -y

sbatch --dependency="afterok:${SLURM_JOB_ID}" 'valgrind@3.17.0.sh'

sleep 20
/usr/share/lmod/lmod/init/bash: line 81: INTEL_LICENSE_FILE: readonly variable

Currently Loaded Modules:
  1) slurm/slurm/22.05.9   2) cpu/0.17.3

 

SHELL=/bin/bash
SLURM_JOB_USER=jpg
SLURM_TASKS_PER_NODE=1
SLURM_JOB_UID=422
HISTCONTROL=ignoredups
SLURM_JOB_MD5SUM=a86968557976d1063e9476ac2dfc6dba  /cm/shared/apps/spack/0.17.3/cpu/etc/spack/sdsc/tscc/0.17.3/cpu/specs/intel@19.1.1.217/papi@6.0.0.1.sh
SLURM_TASK_PID=3371680
LMOD_arch=x86_64
__LMOD_REF_COUNT_CLASSPATH=/cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/intel-19.1.1.217-6wcrifpdhjoyp4oawdlvcabo2kpbi2xk/compilers_and_libraries_2020.1.217/linux/mpi/intel64/lib/mpi.jar:6
SLURM_LOCALID=0
SLURM_SUBMIT_DIR=/cm/shared/apps/spack/0.17.3/cpu/etc/spack/sdsc/tscc/0.17.3/cpu/specs/intel@19.1.1.217
HISTSIZE=1000
HOSTNAME=compute-11-56
SLURMD_NODENAME=compute-11-56
FPATH=/usr/share/lmod/lmod/init/ksh_funcs
_ModuleTable002_=cm0vc2x1cm0vMjIuMDUuOSIsWyJsb2FkT3JkZXIiXT0xLHByb3BUPXt9LFsic3RhY2tEZXB0aCJdPTAsWyJzdGF0dXMiXT0iYWN0aXZlIixbInVzZXJOYW1lIl09InNsdXJtIixbIndWIl09IipzbHVybS8wMDAwMDAwMjIuMDAwMDAwMDA1LjAwMDAwMDAwOS4qemZpbmFsIix9LH0sbXBhdGhBPXsiL2NtL3NoYXJlZC9hcHBzL3NwYWNrLzAuMTcuMy9jcHUvc2hhcmUvc3BhY2svbG1vZC9saW51eC1yb2NreTkteDg2XzY0L0NvcmUiLCIvY20vc2hhcmVkL21vZHVsZWZpbGVzIiwiL2NtL2xvY2FsL21vZHVsZWZpbGVzIiwiL2V0Yy9tb2R1bGVmaWxlcyIsIi91c3Ivc2hhcmUvbW9kdWxlZmlsZXMiLCIvdXNyL3NoYXJlL01vZHVsZXMvbW9kdWxlZmlsZXMiLH0sWyJzeXN0ZW1CYXNl
SPACK_LD_LIBRARY_PATH=/cm/shared/apps/slurm/current/lib64/slurm:/cm/shared/apps/slurm/current/lib64
__LMOD_REF_COUNT_MODULEPATH=/cm/shared/apps/spack/0.17.3/cpu/share/spack/lmod/linux-rocky9-x86_64/Core:1;/cm/shared/modulefiles:2;/cm/local/modulefiles:1;/etc/modulefiles:1;/usr/share/modulefiles:1;/usr/share/Modules/modulefiles:1
SLURM_NODE_ALIASES=(null)
SLURM_CLUSTER_NAME=slurm
SLURM_JOB_SCRIPT=/cm/shared/apps/spack/0.17.3/cpu/etc/spack/sdsc/tscc/0.17.3/cpu/specs/intel@19.1.1.217/papi@6.0.0.1.sh
SLURM_CPUS_ON_NODE=8
SPACK_INSTANCE_NAME=cpu
SCHEDULER_MODULE=slurm
FI_PROVIDER_PATH=/cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/intel-19.1.1.217-6wcrifpdhjoyp4oawdlvcabo2kpbi2xk/compilers_and_libraries_2020.1.217/linux/mpi/intel64/libfabric/lib/prov
__LMOD_REF_COUNT__LMFILES_=/cm/local/modulefiles/slurm/slurm/22.05.9:1;/cm/shared/modulefiles/cpu/0.17.3.lua:1
SLURM_JOB_CPUS_PER_NODE=8
SPACK_VARIANTS=~cuda ~example ~infiniband ~lmsensors ~nvml ~powercap ~rapl ~rocm ~rocm_smi ~sde +shared ~static_tools
LMOD_DIR=/usr/share/lmod/lmod/libexec
SPACK_DEPENDENCIES=
PWD=/home/jpg/specs_cpu_0.17.3/intel@19.1.1.217
SLURM_GTIDS=0
LOGNAME=jpg
XDG_SESSION_TYPE=tty
SLURM_JOB_PARTITION=hotel
MODULESHOME=/usr/share/lmod/lmod
MANPATH=/cm/shared/apps/slurm/current/man:/usr/share/lmod/lmod/share/man:/usr/local/share/man:/usr/share/man:/cm/local/apps/environment-modules/current/share/man
LMOD_PREPEND_BLOCK=normal
SLURM_JOB_NUM_NODES=1
CXX=/cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/intel-19.1.1.217-6wcrifpdhjoyp4oawdlvcabo2kpbi2xk/bin/icpc
SPACK_INSTANCE_DIR=/cm/shared/apps/spack/0.17.3/cpu
SPACK_PYTHON=/usr/bin/python3
__LMOD_REF_COUNT_CMAKE_PREFIX_PATH=/cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/intel-19.1.1.217-6wcrifpdhjoyp4oawdlvcabo2kpbi2xk:6
SLURM_JOBID=2748
SLURM_JOB_QOS=normal
MOTD_SHOWN=pam
__LMOD_REF_COUNT_PATH=/cm/shared/apps/spack/0.17.3/cpu/bin:1;/cm/shared/apps/slurm/current/sbin:1;/cm/shared/apps/slurm/current/bin:1;/home/jpg/usr/bin:2;/home/jpg/bin:3;/home/jpg/.local/bin:1;/usr/local/bin:1;/usr/bin:1;/usr/local/sbin:1;/usr/sbin:1
HOME=/home/jpg
_ModuleTable_Sz_=3
__LMOD_REF_COUNT_LIBRARY_PATH=/cm/shared/apps/slurm/current/lib64/slurm:1;/cm/shared/apps/slurm/current/lib64:1
LANG=en_US.UTF-8
SLURM_JOB_DEPENDENCY=afterok:2746
__LMOD_REF_COUNT_LOADEDMODULES=slurm/slurm/22.05.9:1;cpu/0.17.3:1
LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=01;37;41:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=01;36:*.au=01;36:*.flac=01;36:*.m4a=01;36:*.mid=01;36:*.midi=01;36:*.mka=01;36:*.mp3=01;36:*.mpc=01;36:*.ogg=01;36:*.ra=01;36:*.wav=01;36:*.oga=01;36:*.opus=01;36:*.spx=01;36:*.xspf=01;36:
SLURM_PROCID=0
__LMOD_REF_COUNT_CPATH=/cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/intel-19.1.1.217-6wcrifpdhjoyp4oawdlvcabo2kpbi2xk/compilers_and_libraries_2020.1.217/linux/pstl/include:11;/cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/intel-19.1.1.217-6wcrifpdhjoyp4oawdlvcabo2kpbi2xk/compilers_and_libraries_2020.1.217/linux/pstl/stdlib:11;/cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/intel-19.1.1.217-6wcrifpdhjoyp4oawdlvcabo2kpbi2xk/compilers_and_libraries_2020.1.217/linux/tbb/include:17;/cm/shared/apps/slurm/current/include:6
LMOD_SETTARG_FULL_SUPPORT=no
SPACK_COMPILER=intel@19.1.1.217
TMPDIR=/tmp
CMAKE_PREFIX_PATH=/cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/intel-19.1.1.217-6wcrifpdhjoyp4oawdlvcabo2kpbi2xk
SLURM_CPUS_PER_TASK=8
SLURM_NTASKS=1
SLURM_TOPOLOGY_ADDR=compute-11-56
LMOD_VERSION=8.5
SSH_CONNECTION=66.27.52.142 54543 132.249.107.93 22
SPACK_ROOT=/cm/shared/apps/spack/0.17.3/cpu
_ModuleTable003_=TVBBVEgiXT0iL2NtL2xvY2FsL21vZHVsZWZpbGVzOi9jbS9zaGFyZWQvbW9kdWxlZmlsZXM6L2V0Yy9tb2R1bGVmaWxlczovdXNyL3NoYXJlL21vZHVsZWZpbGVzOi91c3Ivc2hhcmUvTW9kdWxlcy9tb2R1bGVmaWxlcyIsfQ==
MODULEPATH_ROOT=/usr/share/modulefiles
SDSC_SPACK_STACK=cpu
SLURM_TOPOLOGY_ADDR_PATTERN=node
__LMOD_REF_COUNT_FI_PROVIDER_PATH=/cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/intel-19.1.1.217-6wcrifpdhjoyp4oawdlvcabo2kpbi2xk/compilers_and_libraries_2020.1.217/linux/mpi/intel64/libfabric/lib/prov:2
XDG_SESSION_CLASS=user
LMOD_PKG=/usr/share/lmod/lmod
SLURM_WORKING_CLUSTER=slurm:mgr2:6817:9728:109
TERM=xterm-256color
F77=/cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/intel-19.1.1.217-6wcrifpdhjoyp4oawdlvcabo2kpbi2xk/bin/ifort
LESSOPEN=||/usr/bin/lesspipe.sh %s
USER=jpg
LIBRARY_PATH=/cm/shared/apps/slurm/current/lib64/slurm:/cm/shared/apps/slurm/current/lib64
SLURM_NODELIST=compute-11-56
ENVIRONMENT=BATCH
LOADEDMODULES=slurm/slurm/22.05.9:cpu/0.17.3
SPACK_SPEC=papi@6.0.0.1 % intel@19.1.1.217 ~cuda ~example ~infiniband ~lmsensors ~nvml ~powercap ~rapl ~rocm ~rocm_smi ~sde +shared ~static_tools 
SLURM_JOB_ACCOUNT=sys200
F90=/cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/intel-19.1.1.217-6wcrifpdhjoyp4oawdlvcabo2kpbi2xk/bin/ifort
SLURM_PRIO_PROCESS=0
SLURM_NPROCS=1
LMOD_ROOT=/usr/share/lmod
LMOD_SETTARG_CMD=:
SHLVL=7
SLURM_NNODES=1
BASH_ENV=/usr/share/lmod/lmod/init/bash
LMOD_FULL_SETTARG_SUPPORT=no
LMOD_sys=Linux
__LMOD_REF_COUNT_MANPATH=/cm/shared/apps/slurm/current/man:1;/usr/share/lmod/lmod/share/man:1;/usr/local/share/man:1;/usr/share/man:1;/cm/local/apps/environment-modules/current/share/man:1
XDG_SESSION_ID=86474
SLURM_SUBMIT_HOST=compute-11-56
__LMOD_SET_FPATH=1
_ModuleTable001_=X01vZHVsZVRhYmxlXz17WyJNVHZlcnNpb24iXT0zLFsiY19yZWJ1aWxkVGltZSJdPWZhbHNlLFsiY19zaG9ydFRpbWUiXT1mYWxzZSxkZXB0aFQ9e30sZmFtaWx5PXt9LG1UPXtjcHU9e1siZm4iXT0iL2NtL3NoYXJlZC9tb2R1bGVmaWxlcy9jcHUvMC4xNy4zLmx1YSIsWyJmdWxsTmFtZSJdPSJjcHUvMC4xNy4zIixbImxvYWRPcmRlciJdPTIscHJvcFQ9e30sWyJzdGFja0RlcHRoIl09MCxbInN0YXR1cyJdPSJhY3RpdmUiLFsidXNlck5hbWUiXT0iY3B1IixbIndWIl09IjAwMDAwMDAwMC4wMDAwMDAwMTcuMDAwMDAwMDAzLip6ZmluYWwiLH0sc2x1cm09e1siZm4iXT0iL2NtL2xvY2FsL21vZHVsZWZpbGVzL3NsdXJtL3NsdXJtLzIyLjA1LjkiLFsiZnVsbE5hbWUiXT0ic2x1
SPACK_PACKAGE=papi@6.0.0.1
CLASSPATH=/cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/intel-19.1.1.217-6wcrifpdhjoyp4oawdlvcabo2kpbi2xk/compilers_and_libraries_2020.1.217/linux/mpi/intel64/lib/mpi.jar
LD_LIBRARY_PATH=/cm/shared/apps/slurm/current/lib64/slurm:/cm/shared/apps/slurm/current/lib64
LMOD_COLORIZE=yes
XDG_RUNTIME_DIR=/run/user/422
SLURM_JOB_ID=2748
SLURM_NODEID=0
S_COLORS=auto
SSH_CLIENT=66.27.52.142 54543 22
DEBUGINFOD_URLS=https://debuginfod.centos.org/ 
CMD_WLM_CLUSTER_NAME=slurm
ENABLE_LMOD=1
FC=/cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/intel-19.1.1.217-6wcrifpdhjoyp4oawdlvcabo2kpbi2xk/bin/ifort
which_declare=declare -f
UNIX_TIME=1687646694
__Init_Default_Modules=1
SLURM_CONF=/cm/shared/apps/slurm/var/etc/slurm/slurm.conf
PATH=/cm/shared/apps/spack/0.17.3/cpu/bin:/cm/shared/apps/slurm/current/sbin:/cm/shared/apps/slurm/current/bin:/home/jpg/usr/bin:/home/jpg/bin:/home/jpg/.local/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin
SLURM_JOB_NAME=papi@6.0.0.1
LOCAL_TIME=20230624T154454-0700
MODULEPATH=/cm/shared/apps/spack/0.17.3/cpu/share/spack/lmod/linux-rocky9-x86_64/Core:/cm/shared/modulefiles:/cm/local/modulefiles:/etc/modulefiles:/usr/share/modulefiles:/usr/share/Modules/modulefiles
CC=/cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/intel-19.1.1.217-6wcrifpdhjoyp4oawdlvcabo2kpbi2xk/bin/icc
SLURM_NTASKS_PER_NODE=1
_LMFILES_=/cm/local/modulefiles/slurm/slurm/22.05.9:/cm/shared/modulefiles/cpu/0.17.3.lua
DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/422/bus
SYSTEM_NAME=tscc
LMOD_CMD=/usr/share/lmod/lmod/libexec/lmod
MAIL=/var/spool/mail/jpg
SSH_TTY=/dev/pts/0
__LMOD_REF_COUNT_LD_LIBRARY_PATH=/cm/shared/apps/slurm/current/lib64/slurm:1;/cm/shared/apps/slurm/current/lib64:1
INTEL_LICENSE_FILE=40000@elprado.sdsc.edu:40200@elprado.sdsc.edu
LMOD_SYSTEM_DEFAULT_MODULES=DefaultModules
SLURM_JOB_GID=7193
CPATH=/cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/intel-19.1.1.217-6wcrifpdhjoyp4oawdlvcabo2kpbi2xk/compilers_and_libraries_2020.1.217/linux/pstl/include:/cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/intel-19.1.1.217-6wcrifpdhjoyp4oawdlvcabo2kpbi2xk/compilers_and_libraries_2020.1.217/linux/pstl/stdlib:/cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/intel-19.1.1.217-6wcrifpdhjoyp4oawdlvcabo2kpbi2xk/compilers_and_libraries_2020.1.217/linux/tbb/include:/cm/shared/apps/slurm/current/include
SPACK_VERSION=0.17.3
OLDPWD=/home/jpg/specs_cpu_0.17.3
SLURM_JOB_NODELIST=compute-11-56
BASH_FUNC_ml%%=() {  eval $($LMOD_DIR/ml_cmd "$@")
}
BASH_FUNC_which%%=() {  ( alias;
 eval ${which_declare} ) | /usr/bin/which --tty-only --read-alias --read-functions --show-tilde --show-dot $@
}
BASH_FUNC_module%%=() {  eval $($LMOD_CMD bash "$@") && eval $(${LMOD_SETTARG_CMD:-:} -s sh)
}
BASH_FUNC__spack_shell_wrapper%%=() {  for var in LD_LIBRARY_PATH DYLD_LIBRARY_PATH DYLD_FALLBACK_LIBRARY_PATH;
 do
 eval "if [ -n \"\${${var}-}\" ]; then export SPACK_$var=\${${var}}; fi";
 done;
 if [ -n "${ZSH_VERSION:-}" ]; then
 emulate -L sh;
 fi;
 _sp_flags="";
 while [ ! -z ${1+x} ] && [ "${1#-}" != "${1}" ]; do
 _sp_flags="$_sp_flags $1";
 shift;
 done;
 if [ -n "$_sp_flags" ] && [ "${_sp_flags#*h}" != "${_sp_flags}" ] || [ "${_sp_flags#*V}" != "${_sp_flags}" ]; then
 command spack $_sp_flags "$@";
 return;
 fi;
 _sp_subcommand="";
 if [ ! -z ${1+x} ]; then
 _sp_subcommand="$1";
 shift;
 fi;
 case $_sp_subcommand in 
 "cd")
 _sp_arg="";
 if [ -n "$1" ]; then
 _sp_arg="$1";
 shift;
 fi;
 if [ "$_sp_arg" = "-h" ] || [ "$_sp_arg" = "--help" ]; then
 command spack cd -h;
 else
 LOC="$(spack location $_sp_arg "$@")";
 if [ -d "$LOC" ]; then
 cd "$LOC";
 else
 return 1;
 fi;
 fi;
 return
 ;;
 "env")
 _sp_arg="";
 if [ -n "$1" ]; then
 _sp_arg="$1";
 shift;
 fi;
 if [ "$_sp_arg" = "-h" ] || [ "$_sp_arg" = "--help" ]; then
 command spack env -h;
 else
 case $_sp_arg in 
 activate)
 _a=" $@";
 if [ -z ${1+x} ] || [ "${_a#* --sh}" != "$_a" ] || [ "${_a#* --csh}" != "$_a" ] || [ "${_a#* -h}" != "$_a" ] || [ "${_a#* --help}" != "$_a" ]; then
 command spack env activate "$@";
 else
 stdout="$(command spack $_sp_flags env activate --sh "$@")" || return;
 eval "$stdout";
 fi
 ;;
 deactivate)
 _a=" $@";
 if [ "${_a#* --sh}" != "$_a" ] || [ "${_a#* --csh}" != "$_a" ]; then
 command spack env deactivate "$@";
 else
 if [ -n "$*" ]; then
 command spack env deactivate -h;
 else
 stdout="$(command spack $_sp_flags env deactivate --sh)" || return;
 eval "$stdout";
 fi;
 fi
 ;;
 *)
 command spack env $_sp_arg "$@"
 ;;
 esac;
 fi;
 return
 ;;
 "load" | "unload")
 _a=" $@";
 if [ "${_a#* --sh}" != "$_a" ] || [ "${_a#* --csh}" != "$_a" ] || [ "${_a#* -h}" != "$_a" ] || [ "${_a#* --list}" != "$_a" ] || [ "${_a#* --help}" != "$_a" ]; then
 command spack $_sp_flags $_sp_subcommand "$@";
 else
 stdout="$(command spack $_sp_flags $_sp_subcommand --sh "$@")" || return;
 eval "$stdout";
 fi
 ;;
 *)
 command spack $_sp_flags $_sp_subcommand "$@"
 ;;
 esac
}
BASH_FUNC_spack%%=() {  : this is a shell function from: /cm/shared/apps/spack/0.17.3/cpu/share/spack/setup-env.sh;
 : the real spack script is here: /cm/shared/apps/spack/0.17.3/cpu/bin/spack;
 _spack_shell_wrapper "$@";
 return $?
}
_=/usr/bin/printenv
compilers:
- compiler:
    spec: gcc@11.2.0
    paths:
      cc: /usr/bin/gcc
      cxx: /usr/bin/g++
      f77: /usr/bin/gfortran
      fc: /usr/bin/gfortran
    flags:
      cflags: -O2 -march=native
      cxxflags: -O2 -march=native
      fflags: -O2 -march=native
    operating_system: rocky9
    target: x86_64
    modules: []
    environment: {}
    extra_rpaths: []
- compiler:
    spec: gcc@10.2.0
    paths:
      cc: /cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/gcc-10.2.0-2ml3m2ltzeohnaco3bxthfprl6dr5gfi/bin/gcc
      cxx: /cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/gcc-10.2.0-2ml3m2ltzeohnaco3bxthfprl6dr5gfi/bin/g++
      f77: /cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/gcc-10.2.0-2ml3m2ltzeohnaco3bxthfprl6dr5gfi/bin/gfortran
      fc: /cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/gcc-10.2.0-2ml3m2ltzeohnaco3bxthfprl6dr5gfi/bin/gfortran
    flags: {}
    operating_system: rocky9
    target: x86_64
    modules: []
    environment: {}
    extra_rpaths: []
- compiler:
    spec: intel@19.1.1.217
    paths:
      cc: /cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/intel-19.1.1.217-6wcrifpdhjoyp4oawdlvcabo2kpbi2xk/bin/icc
      cxx: /cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/intel-19.1.1.217-6wcrifpdhjoyp4oawdlvcabo2kpbi2xk/bin/icpc
      f77: /cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/intel-19.1.1.217-6wcrifpdhjoyp4oawdlvcabo2kpbi2xk/bin/ifort
      fc: /cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/intel-19.1.1.217-6wcrifpdhjoyp4oawdlvcabo2kpbi2xk/bin/ifort
    flags:
      cflags: -gcc-name=/cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/gcc-8.5.0-w6lov36mdw33cg7qm7ekuusp2bbmt6lu/bin/gcc
      cxxflags: -gcc-name=/cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/gcc-8.5.0-w6lov36mdw33cg7qm7ekuusp2bbmt6lu/bin/gcc
    operating_system: rocky9
    target: x86_64
    modules: [intel/19.1.1.217]
    environment: {}
    extra_rpaths: []
- compiler:
    spec: gcc@8.5.0
    paths:
      cc: /cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/gcc-8.5.0-w6lov36mdw33cg7qm7ekuusp2bbmt6lu/bin/gcc
      cxx: /cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/gcc-8.5.0-w6lov36mdw33cg7qm7ekuusp2bbmt6lu/bin/g++
      f77: /cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/gcc-8.5.0-w6lov36mdw33cg7qm7ekuusp2bbmt6lu/bin/gfortran
      fc: /cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/gcc-8.5.0-w6lov36mdw33cg7qm7ekuusp2bbmt6lu/bin/gfortran
    flags: {}
    operating_system: rocky9
    target: x86_64
    modules: []
    environment: {}
    extra_rpaths: []
- compiler:
    spec: gcc@9.2.0
    paths:
      cc: /cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/gcc-9.2.0-ess446ry7axsy3husbm53pc2wuuheun5/bin/gcc
      cxx: /cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/gcc-9.2.0-ess446ry7axsy3husbm53pc2wuuheun5/bin/g++
      f77: /cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/gcc-9.2.0-ess446ry7axsy3husbm53pc2wuuheun5/bin/gfortran
      fc: /cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/gcc-9.2.0-ess446ry7axsy3husbm53pc2wuuheun5/bin/gfortran
    flags: {}
    operating_system: rocky9
    target: x86_64
    modules: []
    environment: {}
    extra_rpaths: []
config:
  install_tree:
    root: $spack/opt/spack
    projections:
      all: ${ARCHITECTURE}/${COMPILERNAME}-${COMPILERVER}/${PACKAGE}-${VERSION}-${HASH}
  template_dirs:
  - $spack/share/spack/templates

  # Temporary locations Spack can try to use for builds.
  #
  # Recommended options are given below.
  #
  # Builds can be faster in temporary directories on some (e.g., HPC) systems.
  # Specifying `$tempdir` will ensure use of the default temporary directory
  # (i.e., ``$TMP` or ``$TMPDIR``).
  #
  # Another option that prevents conflicts and potential permission issues is
  # to specify `$user_cache_path/stage`, which ensures each user builds in their
  # home directory.
  #
  # A more traditional path uses the value of `$spack/var/spack/stage`, which
  # builds directly inside Spack's instance without staging them in a
  # temporary space.  Problems with specifying a path inside a Spack instance
  # are that it precludes its use as a system package and its ability to be
  # pip installable.
  #
  # In any case, if the username is not already in the path, Spack will append
  # the value of `$user` in an attempt to avoid potential conflicts between
  # users in shared temporary spaces.
  #
  # The build stage can be purged with `spack clean --stage` and
  # `spack clean -a`, so it is important that the specified directory uniquely
  # identifies Spack staging to avoid accidentally wiping out non-Spack work.
  build_stage:
  - $tempdir/$user/spack-stage
  - $user_cache_path/stage
  # - $spack/var/spack/stage

  # Directory in which to run tests and store test results.
  # Tests will be stored in directories named by date/time and package
  # name/hash.
  test_stage: $user_cache_path/test
  source_cache: $spack/var/spack/cache
  misc_cache: $user_cache_path/cache
  connect_timeout: 10
  verify_ssl: true
  suppress_gpg_warnings: false
  install_missing_compilers: false
  checksum: true
  deprecated: false
  dirty: false
  build_language: C
  locks: true
  url_fetch_method: urllib
  ccache: false
  concretizer: clingo
  db_lock_timeout: 3
  package_lock_timeout: null
  shared_linking: rpath
  allow_sgid: true
  terminal_title: false
  debug: false
  build_jobs: 16
mirrors:
  spack-public: https://mirror.spack.io
modules:
  default:
    lmod:
      core_compilers:
      - gcc@11.2.0
      hierarchy:
      - mpi
      hash_length: 7
      blacklist_implicits: true
      naming_scheme: '{name}/{version}'
      projections:
        all: '{name}/{version}'
      adol-c:
        suffixes:
          +openmp: omp
      amdblis:
        suffixes:
          threads=openmp: omp
      fftw:
        suffixes:
          +openmp: omp
      hpl:
        suffixes:
          +openmp: omp
      hypre:
        suffixes:
          +openmp: omp
      intel:
        environment:
          set:
            INTEL_LICENSE_FILE: 40000@elprado.sdsc.edu:40100@elprado.sdsc.edu
      kokkos:
        suffixes:
          +openmp: omp
      openblas:
        suffixes:
          threads=openmp: omp
          +ilp64: ilp64
      'netlib-scalapack:':
        suffixes:
          ^openblas threads=openmp: omp
      petsc:
        suffixes:
          +complex: cmplx
      slepc:
        suffixes:
          ^petsc +complex: cmplx
      ^python:
        autoload: direct
      ^ucx:
        autoload: direct
    'enable:':
    - lmod
  prefix_inspections:
    lib:
    - LD_LIBRARY_PATH
    lib64:
    - LD_LIBRARY_PATH
    bin:
    - PATH
    man:
    - MANPATH
    share/man:
    - MANPATH
    share/aclocal:
    - ACLOCAL_PATH
    lib/pkgconfig:
    - PKG_CONFIG_PATH
    lib64/pkgconfig:
    - PKG_CONFIG_PATH
    share/pkgconfig:
    - PKG_CONFIG_PATH
    ? ''
    : - CMAKE_PREFIX_PATH

  # These are configurations for the module set named "default"
packages:
  lustre:
    externals:
    - spec: lustre@2.15.2 % gcc@10.2.0 arch=linux-rocky9-cascadelake
      prefix: /usr
    - spec: lustre@2.15.2 % gcc@11.2.0 arch=linux-rocky9-cascadelake
      prefix: /usr
    - spec: lustre@2.15.2 % intel@19.1.1.217 arch=linux-rocky9-cascadelake
      prefix: /usr
    buildable: false
  texlive:
    externals:
    - spec: texlive@live % gcc@10.2.0  arch=linux-rocky9-cascadelake
      prefix: /usr
    - spec: texlive@live % gcc@11.2.0  arch=linux-rocky9-cascadelake
      prefix: /usr
    - spec: texlive@live % intel@19.1.1.217  arch=linux-rocky9-cascadelake
      prefix: /usr
    buildable: false
  openssl:
    externals:
    - spec: openssl@3.0.1 % gcc@10.2.0 arch=linux-rocky9-cascadelake
      prefix: /usr
    - spec: openssl@3.0.1 % gcc@11.2.0 arch=linux-rocky9-cascadelake
      prefix: /usr
    - spec: openssl@3.0.1 % intel@19.1.1.217 arch=linux-rocky9-cascadelake
      prefix: /usr
    buildable: false
  rdma-core:
    externals:
    - spec: rdma-core@41.0 % gcc@11.2.0 arch=linux-rocky9-cascadelake
      prefix: /usr
    - spec: rdma-core@41.0 % gcc@10.2.0 arch=linux-rocky9-cascadelake
      prefix: /usr
    - spec: rdma-core@41.0 % intel@19.1.1.217 arch=linux-rocky9-cascadelake
      prefix: /usr
    buildable: false
  slurm:
    externals:
    - spec: slurm@22.05.9 % gcc@11.2.0 arch=linux-rocky9-cascadelake
      prefix: /cm/shared/apps/slurm/22.05.9
    - spec: slurm@22.05.8 % gcc@10.2.0 arch=linux-rocky9-cascadelake
      prefix: /cm/shared/apps/slurm/22.05.9
    - spec: slurm@22.05.8 % intel@19.1.1.217 arch=linux-rocky9-cascadelake
      prefix: /cm/shared/apps/slurm/22.05.9
    buildable: false
  librsvg:
    externals:
    - spec: librsvg@2.42.7 % gcc@10.2.0 arch=linux-rocky9-cascadelake
      prefix: /usr
    - spec: librsvg@2.42.7 % gcc@11.2.0 arch=linux-rocky9-cascadelake
      prefix: /usr
    - spec: librsvg@2.42.7 % intel@19.1.1.217 arch=linux-rocky9-cascadelake
      prefix: /usr
    buildable: false
  ghostscript:
    externals:
    - spec: ghostscript@9.27 % gcc@10.2.0 arch=linux-rocky9-cascadelake
      prefix: /usr
    - spec: ghostscript@9.27 % gcc@11.2.0 arch=linux-rocky9-cascadelake
      prefix: /usr
    - spec: ghostscript@9.27 % intel@19.1.1.217 arch=linux-rocky9-cascadelake
      prefix: /usr
    buildable: false
  gaussian:
    permissions:
      read: group
      group: gaussian
  vasp6:
    permissions:
      read: group
      group: vasp-6
  all:
    compiler: [gcc, intel, pgi, clang, xl, nag, fj, aocc]
    providers:
      awk: [gawk]
      blas: [openblas, amdblis]
      D: [ldc]
      daal: [intel-daal]
      elf: [elfutils]
      fftw-api: [fftw, amdfftw]
      flame: [libflame, amdlibflame]
      fuse: [libfuse]
      gl: [mesa+opengl, mesa18, opengl]
      glu: [mesa-glu, openglu]
      glx: [mesa+glx, mesa18+glx, opengl]
      golang: [gcc]
      iconv: [libiconv]
      ipp: [intel-ipp]
      java: [openjdk, jdk, ibm-java]
      jpeg: [libjpeg-turbo, libjpeg]
      lapack: [openblas, amdlibflame]
      lua-lang: [lua, lua-luajit]
      mariadb-client: [mariadb-c-client, mariadb]
      mkl: [intel-mkl]
      mpe: [mpe2]
      mpi: [openmpi, mpich]
      mysql-client: [mysql, mariadb-c-client]
      opencl: [pocl]
      onedal: [intel-oneapi-dal]
      osmesa: [mesa+osmesa, mesa18+osmesa]
      pbs: [openpbs, torque]
      pil: [py-pillow]
      pkgconfig: [pkgconf, pkg-config]
      rpc: [libtirpc]
      scalapack: [netlib-scalapack, amdscalapack]
      sycl: [hipsycl]
      szip: [libaec, libszip]
      tbb: [intel-tbb]
      unwind: [libunwind]
      uuid: [util-linux-uuid, libuuid]
      xxd: [xxd-standalone, vim]
      yacc: [bison, byacc]
      ziglang: [zig]
    permissions:
      read: world
      write: user
repos:
- $spack/var/spack/repos/sdsc
- $spack/var/spack/repos/builtin
upstreams: {}
Input spec
--------------------------------
[    ]  .papi@6.0.0.1%intel@19.1.1.217~cuda~example~infiniband~lmsensors~nvml~powercap~rapl~rocm~rocm_smi~sde+shared~static_tools

Concretized
--------------------------------
ahxeoxl  [    ]  builtin.papi@6.0.0.1%intel@19.1.1.217 cflags="-gcc-name=/cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/gcc-8.5.0-w6lov36mdw33cg7qm7ekuusp2bbmt6lu/bin/gcc" cxxflags="-gcc-name=/cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascadelake/gcc-11.2.0/gcc-8.5.0-w6lov36mdw33cg7qm7ekuusp2bbmt6lu/bin/gcc" ~cuda~example~infiniband~lmsensors~nvml~powercap~rapl~rocm~rocm_smi~sde+shared~static_tools amdgpu_target=none arch=linux-rocky9-cascadelake

==> Installing papi-6.0.0.1-ahxeoxlrcgtme7rsfpp22ltw54giwbwj
==> No binary for papi-6.0.0.1-ahxeoxlrcgtme7rsfpp22ltw54giwbwj found: installing from source
==> Using cached archive: /cm/shared/apps/spack/0.17.3/cpu/var/spack/cache/_source-cache/archive/3c/3cd7ed50c65b0d21d66e46d0ba34cd171178af4bbf9d94e693915c1aca1e287f.tar.gz
==> No patches needed for papi
==> papi: Executing phase: 'autoreconf'
==> papi: Executing phase: 'configure'
==> papi: Executing phase: 'build'
==> Error: ProcessError: Command exited with status 2:
    'make' '-j8' 'V=1'

47 errors found in build log:
     1343    /cm/shared/apps/spack/0.17.3/cpu/lib/spack/env/intel/icc -DPAPI_NO
             _MEMORY_MANAGEMENT -DSTATIC_PAPI_EVENTS_TABLE  -DUSE_PERFEVENT_RDP
             MC=1 -DPEINCLUDE=\"libpfm4/include/perfmon/perf_event.h\" -D_REENT
             RANT -D_GNU_SOURCE -DUSE_COMPILER_TLS -Ilibpfm4/include -fvisibili
             ty=hidden -I. -g -diag-disable 188,869,271  -DOSLOCK=\"linux-lock.
             h\" -DOSCONTEXT=\"linux-context.h\" -O2 -c upper_PAPI_FWRAPPERS.c 
             -o upper_PAPI_FWRAPPERS.o
     1344    /cm/shared/apps/spack/0.17.3/cpu/lib/spack/env/intel/icc -fPIC -DP
             IC -shared -Wl,-soname -Wl,libpapi.so.6.0 -Xlinker "-rpath" -Xlink
             er "/cm/shared/apps/spack/0.17.3/cpu/opt/spack/linux-rocky9-cascad
             elake/intel-19.1.1.217/papi-6.0.0.1-ahxeoxlrcgtme7rsfpp22ltw54giwb
             wj/lib" -DPAPI_NO_MEMORY_MANAGEMENT -DSTATIC_PAPI_EVENTS_TABLE  -D
             USE_PERFEVENT_RDPMC=1 -DPEINCLUDE=\"libpfm4/include/perfmon/perf_e
             vent.h\" -D_REENTRANT -D_GNU_SOURCE -DUSE_COMPILER_TLS -Ilibpfm4/i
             nclude -fvisibility=hidden -I. -g -diag-disable 188,869,271  -DOSL
             OCK=\"linux-lock.h\" -DOSCONTEXT=\"linux-context.h\" -O2 x86_cpuid
             _info.c papi_libpfm4_events.c papi.c papi_internal.c high-level/pa
             pi_hl.c extras.c sw_multiplex.c papi_fwrappers.c papi_fwrappers_.c
              papi_fwrappers__.c upper_PAPI_FWRAPPERS.c threads.c cpus.c linux-
             memory.c linux-timer.c linux-common.c  papi_preset.c papi_vector.c
              papi_memory.c components/perf_event/perf_event.c components/perf_
             event/pe_libpfm4_events.c components/perf_event_uncore/perf_event_
             uncore.c  -o libpapi.so.6.0.0.1 -Bdynamic -Llibpfm4/lib -lpfm
     1345    a - test_utils.o
     1346    a - ftests_util.o
     1347    make[2]: Leaving directory '/tmp/jpg/spack-stage/spack-stage-papi-
             6.0.0.1-ahxeoxlrcgtme7rsfpp22ltw54giwbwj/spack-src/src/testlib'
     1348    In file included from papi_fwrappers.c(23):
  >> 1349    /usr/include/stdio.h(183): error: attribute "__malloc__" does not 
             take arguments
     1350        __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (fclos
             e, 1))) ;
     1351                                                                ^
     1352    
     1353    In file included from papi_fwrappers.c(23):
  >> 1354    /usr/include/stdio.h(217): error: attribute "__malloc__" does not 
             take arguments
     1355         __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__ma
             lloc__))  __attribute__ ((__malloc__ (__builtin_free, 1)));
     1356                                                                      
                                                  ^
     1357    
     1358    In file included from papi_fwrappers.c(23):
  >> 1359    /usr/include/stdio.h(254): error: attribute "__malloc__" does not 
             take arguments
     1360        __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (fclos
             e, 1))) ;
     1361                                                                ^
     1362    
     1363    In file included from papi_fwrappers.c(23):
  >> 1364    /usr/include/stdio.h(288): error: attribute "__malloc__" does not 
             take arguments
     1365        __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (fclos
             e, 1))) ;
     1366                                                                ^
     1367    
     1368    In file included from papi_fwrappers.c(23):
  >> 1369    /usr/include/stdio.h(303): error: attribute "__malloc__" does not 
             take arguments
     1370        __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__mal
             loc__)) __attribute__ ((__malloc__ (fclose, 1))) ;
     1371                                                                      
                                                ^
     1372    
     1373    In file included from papi_fwrappers.c(23):
  >> 1374    /usr/include/stdio.h(309): error: attribute "__malloc__" does not 
             take arguments
     1375        __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (fclos
             e, 1))) ;
     1376                                                                ^
     1377    
     1378    In file included from papi_fwrappers.c(23):
  >> 1379    /usr/include/stdio.h(824): error: attribute "__malloc__" does not 
             take arguments
     1380        __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (pclos
             e, 1))) ;
     1381                                                                ^
     1382    
     1383    compilation aborted for papi_fwrappers_.c (code 2)
  >> 1384    make[1]: *** [Makefile.inc:86: papi_fwrappers_.o] Error 2
     1385    make[1]: *** Waiting for unfinished jobs....
     1386    In file included from papi_fwrappers.c(23):
  >> 1387    /usr/include/stdio.h(183): error: attribute "__malloc__" does not 
             take arguments
     1388        __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (fclos
             e, 1))) ;
     1389                                                                ^
     1390    
     1391    In file included from papi_fwrappers.c(23):
  >> 1392    /usr/include/stdio.h(217): error: attribute "__malloc__" does not 
             take arguments
     1393         __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__ma
             lloc__))  __attribute__ ((__malloc__ (__builtin_free, 1)));
     1394                                                                      
                                                  ^
     1395    
     1396    In file included from papi_fwrappers.c(23):
  >> 1397    /usr/include/stdio.h(254): error: attribute "__malloc__" does not 
             take arguments
     1398        __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (fclos
             e, 1))) ;
     1399                                                                ^
     1400    
     1401    In file included from papi_fwrappers.c(23):
  >> 1402    /usr/include/stdio.h(288): error: attribute "__malloc__" does not 
             take arguments
     1403        __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (fclos
             e, 1))) ;
     1404                                                                ^
     1405    
     1406    In file included from papi_fwrappers.c(23):
  >> 1407    /usr/include/stdio.h(303): error: attribute "__malloc__" does not 
             take arguments
     1408        __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__mal
             loc__)) __attribute__ ((__malloc__ (fclose, 1))) ;
     1409                                                                      
                                                ^
     1410    
     1411    In file included from papi_fwrappers.c(23):
  >> 1412    /usr/include/stdio.h(309): error: attribute "__malloc__" does not 
             take arguments
     1413        __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (fclos
             e, 1))) ;
     1414                                                                ^
     1415    
     1416    In file included from papi_fwrappers.c(23):
  >> 1417    /usr/include/stdio.h(824): error: attribute "__malloc__" does not 
             take arguments
     1418        __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (pclos
             e, 1))) ;
     1419                                                                ^
     1420    
     1421    compilation aborted for papi_fwrappers__.c (code 2)
  >> 1422    make[1]: *** [Makefile.inc:89: papi_fwrappers__.o] Error 2
     1423    In file included from papi_fwrappers.c(23):
  >> 1424    /usr/include/stdio.h(183): error: attribute "__malloc__" does not 
             take arguments
     1425        __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (fclos
             e, 1))) ;
     1426                                                                ^
     1427    
     1428    In file included from papi_fwrappers.c(23):
  >> 1429    /usr/include/stdio.h(217): error: attribute "__malloc__" does not 
             take arguments
     1430         __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__ma
             lloc__))  __attribute__ ((__malloc__ (__builtin_free, 1)));
     1431                                                                      
                                                  ^
     1432    
     1433    In file included from papi_fwrappers.c(23):
  >> 1434    /usr/include/stdio.h(254): error: attribute "__malloc__" does not 
             take arguments
     1435        __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (fclos
             e, 1))) ;
     1436                                                                ^
     1437    
     1438    In file included from papi_fwrappers.c(23):
  >> 1439    /usr/include/stdio.h(288): error: attribute "__malloc__" does not 
             take arguments
     1440        __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (fclos
             e, 1))) ;
     1441                                                                ^
     1442    
     1443    In file included from papi_fwrappers.c(23):
  >> 1444    /usr/include/stdio.h(303): error: attribute "__malloc__" does not 
             take arguments
     1445        __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__mal
             loc__)) __attribute__ ((__malloc__ (fclose, 1))) ;
     1446                                                                      
                                                ^
     1447    
     1448    In file included from papi_fwrappers.c(23):
  >> 1449    /usr/include/stdio.h(309): error: attribute "__malloc__" does not 
             take arguments
     1450        __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (fclos
             e, 1))) ;
     1451                                                                ^
     1452    
     1453    In file included from papi_fwrappers.c(23):
  >> 1454    /usr/include/stdio.h(824): error: attribute "__malloc__" does not 
             take arguments
     1455        __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (pclos
             e, 1))) ;
     1456                                                                ^
     1457    
     1458    compilation aborted for upper_PAPI_FWRAPPERS.c (code 2)
  >> 1459    make[1]: *** [Makefile.inc:92: upper_PAPI_FWRAPPERS.o] Error 2
     1460    In file included from papi_fwrappers.c(23):
  >> 1461    /usr/include/stdio.h(183): error: attribute "__malloc__" does not 
             take arguments
     1462        __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (fclos
             e, 1))) ;
     1463                                                                ^
     1464    
     1465    In file included from papi_fwrappers.c(23):
  >> 1466    /usr/include/stdio.h(217): error: attribute "__malloc__" does not 
             take arguments
     1467         __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__ma
             lloc__))  __attribute__ ((__malloc__ (__builtin_free, 1)));
     1468                                                                      
                                                  ^
     1469    
     1470    In file included from papi_fwrappers.c(23):
  >> 1471    /usr/include/stdio.h(254): error: attribute "__malloc__" does not 
             take arguments
     1472        __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (fclos
             e, 1))) ;
     1473                                                                ^
     1474    
     1475    In file included from papi_fwrappers.c(23):
  >> 1476    /usr/include/stdio.h(288): error: attribute "__malloc__" does not 
             take arguments
     1477        __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (fclos
             e, 1))) ;
     1478                                                                ^
     1479    
     1480    In file included from papi_fwrappers.c(23):
  >> 1481    /usr/include/stdio.h(303): error: attribute "__malloc__" does not 
             take arguments
     1482        __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__mal
             loc__)) __attribute__ ((__malloc__ (fclose, 1))) ;
     1483                                                                      
                                                ^
     1484    
     1485    In file included from papi_fwrappers.c(23):
  >> 1486    /usr/include/stdio.h(309): error: attribute "__malloc__" does not 
             take arguments
     1487        __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (fclos
             e, 1))) ;
     1488                                                                ^
     1489    
     1490    In file included from papi_fwrappers.c(23):
  >> 1491    /usr/include/stdio.h(824): error: attribute "__malloc__" does not 
             take arguments
     1492        __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (pclos
             e, 1))) ;
     1493                                                                ^
     1494    
     1495    compilation aborted for papi_fwrappers_.c (code 2)
     1496    In file included from papi_fwrappers.c(23):
  >> 1497    /usr/include/stdio.h(183): error: attribute "__malloc__" does not 
             take arguments
     1498        __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (fclos
             e, 1))) ;
     1499                                                                ^
     1500    
     1501    In file included from papi_fwrappers.c(23):
  >> 1502    /usr/include/stdio.h(217): error: attribute "__malloc__" does not 
             take arguments
     1503         __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__ma
             lloc__))  __attribute__ ((__malloc__ (__builtin_free, 1)));
     1504                                                                      
                                                  ^
     1505    
     1506    In file included from papi_fwrappers.c(23):
  >> 1507    /usr/include/stdio.h(254): error: attribute "__malloc__" does not 
             take arguments
     1508        __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (fclos
             e, 1))) ;
     1509                                                                ^
     1510    
     1511    In file included from papi_fwrappers.c(23):
  >> 1512    /usr/include/stdio.h(288): error: attribute "__malloc__" does not 
             take arguments
     1513        __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (fclos
             e, 1))) ;
     1514                                                                ^
     1515    
     1516    In file included from papi_fwrappers.c(23):
  >> 1517    /usr/include/stdio.h(303): error: attribute "__malloc__" does not 
             take arguments
     1518        __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__mal
             loc__)) __attribute__ ((__malloc__ (fclose, 1))) ;
     1519                                                                      
                                                ^
     1520    
     1521    In file included from papi_fwrappers.c(23):
  >> 1522    /usr/include/stdio.h(309): error: attribute "__malloc__" does not 
             take arguments
     1523        __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (fclos
             e, 1))) ;
     1524                                                                ^
     1525    
     1526    In file included from papi_fwrappers.c(23):
  >> 1527    /usr/include/stdio.h(824): error: attribute "__malloc__" does not 
             take arguments
     1528        __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (pclos
             e, 1))) ;
     1529                                                                ^
     1530    
     1531    compilation aborted for papi_fwrappers__.c (code 2)
     1532    In file included from papi_fwrappers.c(23):
  >> 1533    /usr/include/stdio.h(183): error: attribute "__malloc__" does not 
             take arguments
     1534        __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (fclos
             e, 1))) ;
     1535                                                                ^
     1536    
     1537    In file included from papi_fwrappers.c(23):
  >> 1538    /usr/include/stdio.h(217): error: attribute "__malloc__" does not 
             take arguments
     1539         __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__ma
             lloc__))  __attribute__ ((__malloc__ (__builtin_free, 1)));
     1540                                                                      
                                                  ^
     1541    
     1542    In file included from papi_fwrappers.c(23):
  >> 1543    /usr/include/stdio.h(254): error: attribute "__malloc__" does not 
             take arguments
     1544        __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (fclos
             e, 1))) ;
     1545                                                                ^
     1546    
     1547    In file included from papi_fwrappers.c(23):
  >> 1548    /usr/include/stdio.h(288): error: attribute "__malloc__" does not 
             take arguments
     1549        __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (fclos
             e, 1))) ;
     1550                                                                ^
     1551    
     1552    In file included from papi_fwrappers.c(23):
  >> 1553    /usr/include/stdio.h(303): error: attribute "__malloc__" does not 
             take arguments
     1554        __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__mal
             loc__)) __attribute__ ((__malloc__ (fclose, 1))) ;
     1555                                                                      
                                                ^
     1556    
     1557    In file included from papi_fwrappers.c(23):
  >> 1558    /usr/include/stdio.h(309): error: attribute "__malloc__" does not 
             take arguments
     1559        __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (fclos
             e, 1))) ;
     1560                                                                ^
     1561    
     1562    In file included from papi_fwrappers.c(23):
  >> 1563    /usr/include/stdio.h(824): error: attribute "__malloc__" does not 
             take arguments
     1564        __attribute__ ((__malloc__)) __attribute__ ((__malloc__ (pclos
             e, 1))) ;
     1565                                                                ^
     1566    
     1567    compilation aborted for upper_PAPI_FWRAPPERS.c (code 2)
  >> 1568    make[1]: *** [Makefile.inc:68: libpapi.so.6.0.0.1] Error 2
     1569    make[1]: Leaving directory '/tmp/jpg/spack-stage/spack-stage-papi-
             6.0.0.1-ahxeoxlrcgtme7rsfpp22ltw54giwbwj/spack-src/src'
  >> 1570    make: *** [Rules.pfm4_pe:40: libpfm4/lib/libpfm.a] Error 2

See build log for details:
  /tmp/jpg/spack-stage/spack-stage-papi-6.0.0.1-ahxeoxlrcgtme7rsfpp22ltw54giwbwj/spack-build-out.txt

==> Error: Terminating after first install failure: ProcessError: Command exited with status 2:
    'make' '-j8' 'V=1'
real 29.65
user 30.91
sys 12.62
ERROR: spack install failed.
